(self.webpackChunk_terrestris_react_geo=self.webpackChunk_terrestris_react_geo||[]).push([[469],{51223:(h,g,d)=>{var f=d(5112),x=d(70030),b=d(3070),S=f("unscopables"),w=Array.prototype;null==w[S]&&b.f(w,S,{configurable:!0,value:x(null)}),h.exports=function(h){w[S][h]=!0}},25787:(h,g,d)=>{var f=d(17854),x=d(47976),b=f.TypeError;h.exports=function(h,g){if(x(g,h))return h;throw b("Incorrect invocation")}},53671:(h,g,d)=>{var f=d(17854),x=d(19662),b=d(47908),S=d(68361),w=d(26244),A=f.TypeError,createMethod=function(h){return function(g,d,f,C){x(d);var P=b(g),E=S(P),_=w(P),M=h?_-1:0,N=h?-1:1;if(f<2)for(;;){if(M in E){C=E[M],M+=N;break}if(M+=N,h?M<0:_<=M)throw A("Reduce of empty array with no initial value")}for(;h?M>=0:_>M;M+=N)M in E&&(C=d(C,E[M],M,P));return C}};h.exports={left:createMethod(!1),right:createMethod(!0)}},17072:(h,g,d)=>{var f=d(5112)("iterator"),x=!1;try{var b=0,S={next:function(){return{done:!!b++}},return:function(){x=!0}};S[f]=function(){return this},Array.from(S,(function(){throw 2}))}catch(h){}h.exports=function(h,g){if(!g&&!x)return!1;var d=!1;try{var b={};b[f]=function(){return{next:function(){return{done:d=!0}}}},h(b)}catch(h){}return d}},84964:(h,g,d)=>{var f=d(5112)("match");h.exports=function(h){var g=/./;try{"/./"[h](g)}catch(d){try{return g[f]=!1,"/./"[h](g)}catch(h){}}return!1}},24994:(h,g,d)=>{"use strict";var f=d(13383).IteratorPrototype,x=d(70030),b=d(79114),S=d(58003),w=d(97497),returnThis=function(){return this};h.exports=function(h,g,d,A){var C=g+" Iterator";return h.prototype=x(f,{next:b(+!A,d)}),S(h,C,!1,!0),w[C]=returnThis,h}},70654:(h,g,d)=>{"use strict";var f=d(82109),x=d(46916),b=d(31913),S=d(76530),w=d(60614),A=d(24994),C=d(79518),P=d(27674),E=d(58003),_=d(68880),M=d(31320),N=d(5112),V=d(97497),R=d(13383),k=S.PROPER,L=S.CONFIGURABLE,D=R.IteratorPrototype,B=R.BUGGY_SAFARI_ITERATORS,z=N("iterator"),F="keys",U="values",X="entries",returnThis=function(){return this};h.exports=function(h,g,d,S,N,R,j){A(d,g,S);var Y,Q,W,getIterationMethod=function(h){if(h===N&&K)return K;if(!B&&h in $)return $[h];switch(h){case F:return function keys(){return new d(this,h)};case U:return function values(){return new d(this,h)};case X:return function entries(){return new d(this,h)}}return function(){return new d(this)}},q=g+" Iterator",G=!1,$=h.prototype,Z=$[z]||$["@@iterator"]||N&&$[N],K=!B&&Z||getIterationMethod(N),J="Array"==g&&$.entries||Z;if(J&&(Y=C(J.call(new h)))!==Object.prototype&&Y.next&&(b||C(Y)===D||(P?P(Y,D):w(Y[z])||M(Y,z,returnThis)),E(Y,q,!0,!0),b&&(V[q]=returnThis)),k&&N==U&&Z&&Z.name!==U&&(!b&&L?_($,"name",U):(G=!0,K=function values(){return x(Z,this)})),N)if(Q={values:getIterationMethod(U),keys:R?K:getIterationMethod(F),entries:getIterationMethod(X)},j)for(W in Q)(B||G||!(W in $))&&M($,W,Q[W]);else f({target:g,proto:!0,forced:B||G},Q);return b&&!j||$[z]===K||M($,z,K,{name:N}),V[g]=K,Q}},7871:h=>{h.exports="object"==typeof window},71528:(h,g,d)=>{var f=d(88113),x=d(17854);h.exports=/ipad|iphone|ipod/i.test(f)&&void 0!==x.Pebble},6833:(h,g,d)=>{var f=d(88113);h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},35268:(h,g,d)=>{var f=d(84326),x=d(17854);h.exports="process"==f(x.process)},71036:(h,g,d)=>{var f=d(88113);h.exports=/web0s(?!.*chrome)/i.test(f)},71246:(h,g,d)=>{var f=d(70648),x=d(58173),b=d(97497),S=d(5112)("iterator");h.exports=function(h){if(null!=h)return x(h,S)||x(h,"@@iterator")||b[f(h)]}},18554:(h,g,d)=>{var f=d(17854),x=d(46916),b=d(19662),S=d(19670),w=d(66330),A=d(71246),C=f.TypeError;h.exports=function(h,g){var d=arguments.length<2?A(h):g;if(b(d))return S(x(d,h));throw C(w(h)+" is not iterable")}},842:(h,g,d)=>{var f=d(17854);h.exports=function(h,g){var d=f.console;d&&d.error&&(1==arguments.length?d.error(h):d.error(h,g))}},97659:(h,g,d)=>{var f=d(5112),x=d(97497),b=f("iterator"),S=Array.prototype;h.exports=function(h){return void 0!==h&&(x.Array===h||S[b]===h)}},20408:(h,g,d)=>{var f=d(17854),x=d(49974),b=d(46916),S=d(19670),w=d(66330),A=d(97659),C=d(26244),P=d(47976),E=d(18554),_=d(71246),M=d(99212),N=f.TypeError,Result=function(h,g){this.stopped=h,this.result=g},V=Result.prototype;h.exports=function(h,g,d){var f,R,k,L,D,B,z,F=d&&d.that,U=!(!d||!d.AS_ENTRIES),X=!(!d||!d.IS_ITERATOR),j=!(!d||!d.INTERRUPTED),Y=x(g,F),stop=function(h){return f&&M(f,"normal",h),new Result(!0,h)},callFn=function(h){return U?(S(h),j?Y(h[0],h[1],stop):Y(h[0],h[1])):j?Y(h,stop):Y(h)};if(X)f=h;else{if(!(R=_(h)))throw N(w(h)+" is not iterable");if(A(R)){for(k=0,L=C(h);L>k;k++)if((D=callFn(h[k]))&&P(V,D))return D;return new Result(!1)}f=E(h,R)}for(B=f.next;!(z=b(B,f)).done;){try{D=callFn(z.value)}catch(h){M(f,"throw",h)}if("object"==typeof D&&D&&P(V,D))return D}return new Result(!1)}},99212:(h,g,d)=>{var f=d(46916),x=d(19670),b=d(58173);h.exports=function(h,g,d){var S,w;x(h);try{if(!(S=b(h,"return"))){if("throw"===g)throw d;return d}S=f(S,h)}catch(h){w=!0,S=h}if("throw"===g)throw d;if(w)throw S;return x(S),d}},13383:(h,g,d)=>{"use strict";var f,x,b,S=d(47293),w=d(60614),A=d(70030),C=d(79518),P=d(31320),E=d(5112),_=d(31913),M=E("iterator"),N=!1;[].keys&&("next"in(b=[].keys())?(x=C(C(b)))!==Object.prototype&&(f=x):N=!0),null==f||S((function(){var h={};return f[M].call(h)!==h}))?f={}:_&&(f=A(f)),w(f[M])||P(f,M,(function(){return this})),h.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:N}},97497:h=>{h.exports={}},95948:(h,g,d)=>{var f,x,b,S,w,A,C,P,E=d(17854),_=d(49974),M=d(31236).f,N=d(20261).set,V=d(6833),R=d(71528),k=d(71036),L=d(35268),D=E.MutationObserver||E.WebKitMutationObserver,B=E.document,z=E.process,F=E.Promise,U=M(E,"queueMicrotask"),X=U&&U.value;X||(f=function(){var h,g;for(L&&(h=z.domain)&&h.exit();x;){g=x.fn,x=x.next;try{g()}catch(h){throw x?S():b=void 0,h}}b=void 0,h&&h.enter()},V||L||k||!D||!B?!R&&F&&F.resolve?((C=F.resolve(void 0)).constructor=F,P=_(C.then,C),S=function(){P(f)}):L?S=function(){z.nextTick(f)}:(N=_(N,E),S=function(){N(f)}):(w=!0,A=B.createTextNode(""),new D(f).observe(A,{characterData:!0}),S=function(){A.data=w=!w})),h.exports=X||function(h){var g={fn:h,next:void 0};b&&(b.next=g),x||(x=g,S()),b=g}},13366:(h,g,d)=>{var f=d(17854);h.exports=f.Promise},78523:(h,g,d)=>{"use strict";var f=d(19662),PromiseCapability=function(h){var g,d;this.promise=new h((function(h,f){if(void 0!==g||void 0!==d)throw TypeError("Bad Promise constructor");g=h,d=f})),this.resolve=f(g),this.reject=f(d)};h.exports.f=function(h){return new PromiseCapability(h)}},3929:(h,g,d)=>{var f=d(17854),x=d(47850),b=f.TypeError;h.exports=function(h){if(x(h))throw b("The method doesn't accept regular expressions");return h}},12534:h=>{h.exports=function(h){try{return{error:!1,value:h()}}catch(h){return{error:!0,value:h}}}},69478:(h,g,d)=>{var f=d(19670),x=d(70111),b=d(78523);h.exports=function(h,g){if(f(h),x(g)&&g.constructor===h)return g;var d=b.f(h);return(0,d.resolve)(g),d.promise}},18572:h=>{var Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(h){var g={item:h,next:null};this.head?this.tail.next=g:this.head=g,this.tail=g},get:function(){var h=this.head;if(h)return this.head=h.next,this.tail===h&&(this.tail=null),h.item}},h.exports=Queue},12248:(h,g,d)=>{var f=d(31320);h.exports=function(h,g,d){for(var x in g)f(h,x,g[x],d);return h}},20261:(h,g,d)=>{var f,x,b,S,w=d(17854),A=d(22104),C=d(49974),P=d(60614),E=d(92597),_=d(47293),M=d(60490),N=d(50206),V=d(80317),R=d(48053),k=d(6833),L=d(35268),D=w.setImmediate,B=w.clearImmediate,z=w.process,F=w.Dispatch,U=w.Function,X=w.MessageChannel,j=w.String,Y=0,Q={},W="onreadystatechange";try{f=w.location}catch(h){}var run=function(h){if(E(Q,h)){var g=Q[h];delete Q[h],g()}},runner=function(h){return function(){run(h)}},listener=function(h){run(h.data)},post=function(h){w.postMessage(j(h),f.protocol+"//"+f.host)};D&&B||(D=function setImmediate(h){R(arguments.length,1);var g=P(h)?h:U(h),d=N(arguments,1);return Q[++Y]=function(){A(g,void 0,d)},x(Y),Y},B=function clearImmediate(h){delete Q[h]},L?x=function(h){z.nextTick(runner(h))}:F&&F.now?x=function(h){F.now(runner(h))}:X&&!k?(S=(b=new X).port2,b.port1.onmessage=listener,x=C(S.postMessage,S)):w.addEventListener&&P(w.postMessage)&&!w.importScripts&&f&&"file:"!==f.protocol&&!_(post)?(x=post,w.addEventListener("message",listener,!1)):x=W in V("script")?function(h){M.appendChild(V("script")).onreadystatechange=function(){M.removeChild(this),run(h)}}:function(h){setTimeout(runner(h),0)}),h.exports={set:D,clear:B}},48053:(h,g,d)=>{var f=d(17854).TypeError;h.exports=function(h,g){if(h<g)throw f("Not enough arguments");return h}},66992:(h,g,d)=>{"use strict";var f=d(45656),x=d(51223),b=d(97497),S=d(29909),w=d(3070).f,A=d(70654),C=d(31913),P=d(19781),E="Array Iterator",_=S.set,M=S.getterFor(E);h.exports=A(Array,"Array",(function(h,g){_(this,{type:E,target:f(h),index:0,kind:g})}),(function(){var h=M(this),g=h.target,d=h.kind,f=h.index++;return!g||f>=g.length?(h.target=void 0,{value:void 0,done:!0}):"keys"==d?{value:f,done:!1}:"values"==d?{value:g[f],done:!1}:{value:[f,g[f]],done:!1}}),"values");var N=b.Arguments=b.Array;if(x("keys"),x("values"),x("entries"),!C&&P&&"values"!==N.name)try{w(N,"name",{value:"values"})}catch(h){}},85827:(h,g,d)=>{"use strict";var f=d(82109),x=d(53671).left,b=d(9341),S=d(7392),w=d(35268);f({target:"Array",proto:!0,forced:!b("reduce")||!w&&S>79&&S<83},{reduce:function reduce(h){var g=arguments.length;return x(this,h,g,g>1?arguments[1]:void 0)}})},65069:(h,g,d)=>{"use strict";var f=d(82109),x=d(1702),b=d(43157),S=x([].reverse),w=[1,2];f({target:"Array",proto:!0,forced:String(w)===String(w.reverse())},{reverse:function reverse(){return b(this)&&(this.length=this.length),S(this)}})},88674:(h,g,d)=>{"use strict";var f,x,b,S,w=d(82109),A=d(31913),C=d(17854),P=d(35005),E=d(46916),_=d(13366),M=d(31320),N=d(12248),V=d(27674),R=d(58003),k=d(96340),L=d(19662),D=d(60614),B=d(70111),z=d(25787),F=d(42788),U=d(20408),X=d(17072),j=d(36707),Y=d(20261).set,Q=d(95948),W=d(69478),q=d(842),G=d(78523),$=d(12534),Z=d(18572),K=d(29909),J=d(54705),tt=d(5112),et=d(7871),rt=d(35268),it=d(7392),nt=tt("species"),at="Promise",st=K.getterFor(at),ot=K.set,ht=K.getterFor(at),lt=_&&_.prototype,ut=_,ct=lt,gt=C.TypeError,dt=C.document,pt=C.process,ft=G.f,mt=ft,yt=!!(dt&&dt.createEvent&&C.dispatchEvent),vt=D(C.PromiseRejectionEvent),xt="unhandledrejection",bt=!1,St=J(at,(function(){var h=F(ut),g=h!==String(ut);if(!g&&66===it)return!0;if(A&&!ct.finally)return!0;if(it>=51&&/native code/.test(h))return!1;var d=new ut((function(h){h(1)})),FakePromise=function(h){h((function(){}),(function(){}))};return(d.constructor={})[nt]=FakePromise,!(bt=d.then((function(){}))instanceof FakePromise)||!g&&et&&!vt})),wt=St||!X((function(h){ut.all(h).catch((function(){}))})),isThenable=function(h){var g;return!(!B(h)||!D(g=h.then))&&g},callReaction=function(h,g){var d,f,x,b=g.value,S=1==g.state,w=S?h.ok:h.fail,A=h.resolve,C=h.reject,P=h.domain;try{w?(S||(2===g.rejection&&onHandleUnhandled(g),g.rejection=1),!0===w?d=b:(P&&P.enter(),d=w(b),P&&(P.exit(),x=!0)),d===h.promise?C(gt("Promise-chain cycle")):(f=isThenable(d))?E(f,d,A,C):A(d)):C(b)}catch(h){P&&!x&&P.exit(),C(h)}},notify=function(h,g){h.notified||(h.notified=!0,Q((function(){for(var d,f=h.reactions;d=f.get();)callReaction(d,h);h.notified=!1,g&&!h.rejection&&onUnhandled(h)})))},dispatchEvent=function(h,g,d){var f,x;yt?((f=dt.createEvent("Event")).promise=g,f.reason=d,f.initEvent(h,!1,!0),C.dispatchEvent(f)):f={promise:g,reason:d},!vt&&(x=C["on"+h])?x(f):h===xt&&q("Unhandled promise rejection",d)},onUnhandled=function(h){E(Y,C,(function(){var g,d=h.facade,f=h.value;if(isUnhandled(h)&&(g=$((function(){rt?pt.emit("unhandledRejection",f,d):dispatchEvent(xt,d,f)})),h.rejection=rt||isUnhandled(h)?2:1,g.error))throw g.value}))},isUnhandled=function(h){return 1!==h.rejection&&!h.parent},onHandleUnhandled=function(h){E(Y,C,(function(){var g=h.facade;rt?pt.emit("rejectionHandled",g):dispatchEvent("rejectionhandled",g,h.value)}))},bind=function(h,g,d){return function(f){h(g,f,d)}},internalReject=function(h,g,d){h.done||(h.done=!0,d&&(h=d),h.value=g,h.state=2,notify(h,!0))},internalResolve=function(h,g,d){if(!h.done){h.done=!0,d&&(h=d);try{if(h.facade===g)throw gt("Promise can't be resolved itself");var f=isThenable(g);f?Q((function(){var d={done:!1};try{E(f,g,bind(internalResolve,d,h),bind(internalReject,d,h))}catch(g){internalReject(d,g,h)}})):(h.value=g,h.state=1,notify(h,!1))}catch(g){internalReject({done:!1},g,h)}}};if(St&&(ct=(ut=function Promise(h){z(this,ct),L(h),E(f,this);var g=st(this);try{h(bind(internalResolve,g),bind(internalReject,g))}catch(h){internalReject(g,h)}}).prototype,(f=function Promise(h){ot(this,{type:at,done:!1,notified:!1,parent:!1,reactions:new Z,rejection:!1,state:0,value:void 0})}).prototype=N(ct,{then:function then(h,g){var d=ht(this),f=ft(j(this,ut));return d.parent=!0,f.ok=!D(h)||h,f.fail=D(g)&&g,f.domain=rt?pt.domain:void 0,0==d.state?d.reactions.add(f):Q((function(){callReaction(f,d)})),f.promise},catch:function(h){return this.then(void 0,h)}}),x=function(){var h=new f,g=st(h);this.promise=h,this.resolve=bind(internalResolve,g),this.reject=bind(internalReject,g)},G.f=ft=function(h){return h===ut||h===b?new x(h):mt(h)},!A&&D(_)&&lt!==Object.prototype)){S=lt.then,bt||(M(lt,"then",(function then(h,g){var d=this;return new ut((function(h,g){E(S,d,h,g)})).then(h,g)}),{unsafe:!0}),M(lt,"catch",ct.catch,{unsafe:!0}));try{delete lt.constructor}catch(h){}V&&V(lt,ct)}w({global:!0,wrap:!0,forced:St},{Promise:ut}),R(ut,at,!1,!0),k(at),b=P(at),w({target:at,stat:!0,forced:St},{reject:function reject(h){var g=ft(this);return E(g.reject,void 0,h),g.promise}}),w({target:at,stat:!0,forced:A||St},{resolve:function resolve(h){return W(A&&this===b?ut:this,h)}}),w({target:at,stat:!0,forced:wt},{all:function all(h){var g=this,d=ft(g),f=d.resolve,x=d.reject,b=$((function(){var d=L(g.resolve),b=[],S=0,w=1;U(h,(function(h){var A=S++,C=!1;w++,E(d,g,h).then((function(h){C||(C=!0,b[A]=h,--w||f(b))}),x)})),--w||f(b)}));return b.error&&x(b.value),d.promise},race:function race(h){var g=this,d=ft(g),f=d.reject,x=$((function(){var x=L(g.resolve);U(h,(function(h){E(x,g,h).then(d.resolve,f)}))}));return x.error&&f(x.value),d.promise}})},27852:(h,g,d)=>{"use strict";var f,x=d(82109),b=d(1702),S=d(31236).f,w=d(17466),A=d(41340),C=d(3929),P=d(84488),E=d(84964),_=d(31913),M=b("".endsWith),N=b("".slice),V=Math.min,R=E("endsWith");x({target:"String",proto:!0,forced:!!(_||R||(f=S(String.prototype,"endsWith"),!f||f.writable))&&!R},{endsWith:function endsWith(h){var g=A(P(this));C(h);var d=arguments.length>1?arguments[1]:void 0,f=g.length,x=void 0===d?f:V(w(d),f),b=A(h);return M?M(g,b,x):N(g,x-b.length,x)===b}})},32023:(h,g,d)=>{"use strict";var f=d(82109),x=d(1702),b=d(3929),S=d(84488),w=d(41340),A=d(84964),C=x("".indexOf);f({target:"String",proto:!0,forced:!A("includes")},{includes:function includes(h){return!!~C(w(S(this)),w(b(h)),arguments.length>1?arguments[1]:void 0)}})},23157:(h,g,d)=>{"use strict";var f,x=d(82109),b=d(1702),S=d(31236).f,w=d(17466),A=d(41340),C=d(3929),P=d(84488),E=d(84964),_=d(31913),M=b("".startsWith),N=b("".slice),V=Math.min,R=E("startsWith");x({target:"String",proto:!0,forced:!!(_||R||(f=S(String.prototype,"startsWith"),!f||f.writable))&&!R},{startsWith:function startsWith(h){var g=A(P(this));C(h);var d=w(V(arguments.length>1?arguments[1]:void 0,g.length)),f=A(h);return M?M(g,f,d):N(g,d,d+f.length)===f}})},33948:(h,g,d)=>{var f=d(17854),x=d(48324),b=d(98509),S=d(66992),w=d(68880),A=d(5112),C=A("iterator"),P=A("toStringTag"),E=S.values,handlePrototype=function(h,g){if(h){if(h[C]!==E)try{w(h,C,E)}catch(g){h[C]=E}if(h[P]||w(h,P,g),x[g])for(var d in S)if(h[d]!==S[d])try{w(h,d,S[d])}catch(g){h[d]=S[d]}}};for(var _ in x)handlePrototype(f[_]&&f[_].prototype,_);handlePrototype(b,"DOMTokenList")},75:function(h){(function(){var g,d,f,x,b,S;"undefined"!=typeof performance&&null!==performance&&performance.now?h.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(h.exports=function(){return(g()-b)/1e6},d=process.hrtime,x=(g=function(){var h;return 1e9*(h=d())[0]+h[1]})(),S=1e9*process.uptime(),b=x-S):Date.now?(h.exports=function(){return Date.now()-f},f=Date.now()):(h.exports=function(){return(new Date).getTime()-f},f=(new Date).getTime())}).call(this)},54087:(h,g,d)=>{for(var f=d(75),x="undefined"==typeof window?d.g:window,b=["moz","webkit"],S="AnimationFrame",w=x["request"+S],A=x["cancel"+S]||x["cancelRequest"+S],C=0;!w&&C<b.length;C++)w=x[b[C]+"Request"+S],A=x[b[C]+"Cancel"+S]||x[b[C]+"CancelRequest"+S];if(!w||!A){var P=0,E=0,_=[];w=function(h){if(0===_.length){var g=f(),d=Math.max(0,16.666666666666668-(g-P));P=d+g,setTimeout((function(){var h=_.slice(0);_.length=0;for(var g=0;g<h.length;g++)if(!h[g].cancelled)try{h[g].callback(P)}catch(h){setTimeout((function(){throw h}),0)}}),Math.round(d))}return _.push({handle:++E,callback:h,cancelled:!1}),E},A=function(h){for(var g=0;g<_.length;g++)_[g].handle===h&&(_[g].cancelled=!0)}}h.exports=function(h){return w.call(x,h)},h.exports.cancel=function(){A.apply(x,arguments)},h.exports.polyfill=function(h){h||(h=x),h.requestAnimationFrame=w,h.cancelAnimationFrame=A}},26131:h=>{h.exports=function(h){this.ok=!1,this.alpha=1,"#"==h.charAt(0)&&(h=h.substr(1,6)),h=(h=h.replace(/ /g,"")).toLowerCase();var g={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};h=g[h]||h;for(var d=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3]),parseFloat(h[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],f=0;f<d.length;f++){var x=d[f].re,b=d[f].process,S=x.exec(h);if(S){var w=b(S);this.r=w[0],this.g=w[1],this.b=w[2],w.length>3&&(this.alpha=w[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var h=this.r.toString(16),g=this.g.toString(16),d=this.b.toString(16);return 1==h.length&&(h="0"+h),1==g.length&&(g="0"+g),1==d.length&&(d="0"+d),"#"+h+g+d},this.getHelpXML=function(){for(var h=new Array,f=0;f<d.length;f++)for(var x=d[f].example,b=0;b<x.length;b++)h[h.length]=x[b];for(var S in g)h[h.length]=S;var w=document.createElement("ul");w.setAttribute("id","rgbcolor-examples");for(f=0;f<h.length;f++)try{var A=document.createElement("li"),C=new RGBColor(h[f]),P=document.createElement("div");P.style.cssText="margin: 3px; border: 1px solid black; background:"+C.toHex()+"; color:"+C.toHex(),P.appendChild(document.createTextNode("test"));var E=document.createTextNode(" "+h[f]+" -> "+C.toRGB()+" -> "+C.toHex());A.appendChild(P),A.appendChild(E),w.appendChild(A)}catch(h){}return w}}},81469:(h,g,d)=>{"use strict";d.r(g),d.d(g,{AElement:()=>Yt,AnimateColorElement:()=>zt,AnimateElement:()=>Bt,AnimateTransformElement:()=>Ft,BoundingBox:()=>ft,CB1:()=>CB1,CB2:()=>CB2,CB3:()=>CB3,CB4:()=>CB4,Canvg:()=>ce,CircleElement:()=>Ct,ClipPathElement:()=>ee,DefsElement:()=>Vt,DescElement:()=>he,Document:()=>ue,Element:()=>gt,EllipseElement:()=>Ot,FeColorMatrixElement:()=>Jt,FeCompositeElement:()=>ae,FeDropShadowElement:()=>ie,FeGaussianBlurElement:()=>se,FeMorphologyElement:()=>ne,FilterElement:()=>re,Font:()=>pt,FontElement:()=>Ut,FontFaceElement:()=>Ht,GElement:()=>Rt,GlyphElement:()=>xt,GradientElement:()=>kt,ImageElement:()=>qt,LineElement:()=>Pt,LinearGradientElement:()=>It,MarkerElement:()=>Nt,MaskElement:()=>te,Matrix:()=>ot,MissingGlyphElement:()=>Xt,Mouse:()=>Z,PSEUDO_ZERO:()=>W,Parser:()=>it,PathElement:()=>vt,PathParser:()=>mt,PatternElement:()=>Mt,Point:()=>$,PolygonElement:()=>_t,PolylineElement:()=>Et,Property:()=>q,QB1:()=>QB1,QB2:()=>QB2,QB3:()=>QB3,RadialGradientElement:()=>Lt,RectElement:()=>Tt,RenderedElement:()=>yt,Rotate:()=>at,SVGElement:()=>At,SVGFontLoader:()=>$t,Scale:()=>st,Screen:()=>tt,Skew:()=>ht,SkewX:()=>lt,SkewY:()=>ut,StopElement:()=>Dt,StyleElement:()=>Zt,SymbolElement:()=>Gt,TRefElement:()=>jt,TSpanElement:()=>St,TextElement:()=>bt,TextPathElement:()=>Qt,TitleElement:()=>oe,Transform:()=>ct,Translate:()=>nt,UnknownElement:()=>dt,UseElement:()=>Kt,ViewPort:()=>G,compressSpaces:()=>compressSpaces,default:()=>ce,getSelectorSpecificity:()=>getSelectorSpecificity,normalizeAttributeName:()=>normalizeAttributeName,normalizeColor:()=>normalizeColor,parseExternalUrl:()=>parseExternalUrl,presets:()=>D,toNumbers:()=>toNumbers,trimLeft:()=>trimLeft,trimRight:()=>trimRight,vectorMagnitude:()=>vectorMagnitude,vectorsAngle:()=>vectorsAngle,vectorsRatio:()=>vectorsRatio});d(88674);var f=d(15861),x=(d(4723),d(15306),d(23157),d(66992),d(33948),d(4942)),b=(d(85827),d(27852),d(23123),d(54087)),S=(d(73210),d(26131)),w=(d(82772),d(32023),d(65069),function(h,g){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(h[d]=g[d])})(h,g)});function r(h,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function i(){this.constructor=h}w(h,g),h.prototype=null===g?Object.create(g):(i.prototype=g.prototype,new i)}function e(h){var g="";Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;d++){var f=h[d];if(f.type===N.CLOSE_PATH)g+="z";else if(f.type===N.HORIZ_LINE_TO)g+=(f.relative?"h":"H")+f.x;else if(f.type===N.VERT_LINE_TO)g+=(f.relative?"v":"V")+f.y;else if(f.type===N.MOVE_TO)g+=(f.relative?"m":"M")+f.x+" "+f.y;else if(f.type===N.LINE_TO)g+=(f.relative?"l":"L")+f.x+" "+f.y;else if(f.type===N.CURVE_TO)g+=(f.relative?"c":"C")+f.x1+" "+f.y1+" "+f.x2+" "+f.y2+" "+f.x+" "+f.y;else if(f.type===N.SMOOTH_CURVE_TO)g+=(f.relative?"s":"S")+f.x2+" "+f.y2+" "+f.x+" "+f.y;else if(f.type===N.QUAD_TO)g+=(f.relative?"q":"Q")+f.x1+" "+f.y1+" "+f.x+" "+f.y;else if(f.type===N.SMOOTH_QUAD_TO)g+=(f.relative?"t":"T")+f.x+" "+f.y;else{if(f.type!==N.ARC)throw new Error('Unexpected command type "'+f.type+'" at index '+d+".");g+=(f.relative?"a":"A")+f.rX+" "+f.rY+" "+f.xRot+" "+ +f.lArcFlag+" "+ +f.sweepFlag+" "+f.x+" "+f.y}}return g}function i(h,g){var d=h[0],f=h[1];return[d*Math.cos(g)-f*Math.sin(g),d*Math.sin(g)+f*Math.cos(g)]}function a(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];for(var d=0;d<h.length;d++)if("number"!=typeof h[d])throw new Error("assertNumbers arguments["+d+"] is not a number. "+typeof h[d]+" == typeof "+h[d]);return!0}var A=Math.PI;function o(h,g,d){h.lArcFlag=0===h.lArcFlag?0:1,h.sweepFlag=0===h.sweepFlag?0:1;var f=h.rX,x=h.rY,b=h.x,S=h.y;f=Math.abs(h.rX),x=Math.abs(h.rY);var w=i([(g-b)/2,(d-S)/2],-h.xRot/180*A),C=w[0],P=w[1],E=Math.pow(C,2)/Math.pow(f,2)+Math.pow(P,2)/Math.pow(x,2);1<E&&(f*=Math.sqrt(E),x*=Math.sqrt(E)),h.rX=f,h.rY=x;var _=Math.pow(f,2)*Math.pow(P,2)+Math.pow(x,2)*Math.pow(C,2),M=(h.lArcFlag!==h.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(f,2)*Math.pow(x,2)-_)/_)),N=f*P/x*M,V=-x*C/f*M,R=i([N,V],h.xRot/180*A);h.cX=R[0]+(g+b)/2,h.cY=R[1]+(d+S)/2,h.phi1=Math.atan2((P-V)/x,(C-N)/f),h.phi2=Math.atan2((-P-V)/x,(-C-N)/f),0===h.sweepFlag&&h.phi2>h.phi1&&(h.phi2-=2*A),1===h.sweepFlag&&h.phi2<h.phi1&&(h.phi2+=2*A),h.phi1*=180/A,h.phi2*=180/A}function s(h,g,d){a(h,g,d);var f=h*h+g*g-d*d;if(0>f)return[];if(0===f)return[[h*d/(h*h+g*g),g*d/(h*h+g*g)]];var x=Math.sqrt(f);return[[(h*d+g*x)/(h*h+g*g),(g*d-h*x)/(h*h+g*g)],[(h*d-g*x)/(h*h+g*g),(g*d+h*x)/(h*h+g*g)]]}var C,P=Math.PI/180;function c(h,g,d){return(1-d)*h+d*g}function y(h,g,d,f){return h+Math.cos(f/180*A)*g+Math.sin(f/180*A)*d}function p(h,g,d,f){var x=1e-6,b=g-h,S=d-g,w=3*b+3*(f-d)-6*S,A=6*(S-b),C=3*b;return Math.abs(w)<x?[-C/A]:function(h,g,d){void 0===d&&(d=1e-6);var f=h*h/4-g;if(f<-d)return[];if(f<=d)return[-h/2];var x=Math.sqrt(f);return[-h/2-x,-h/2+x]}(A/w,C/w,x)}function m(h,g,d,f,x){var b=1-x;return h*(b*b*b)+g*(3*b*b*x)+d*(3*b*x*x)+f*(x*x*x)}!function(h){function r(){return u((function(h,g,d){return h.relative&&(void 0!==h.x1&&(h.x1+=g),void 0!==h.y1&&(h.y1+=d),void 0!==h.x2&&(h.x2+=g),void 0!==h.y2&&(h.y2+=d),void 0!==h.x&&(h.x+=g),void 0!==h.y&&(h.y+=d),h.relative=!1),h}))}function e(){var h=NaN,g=NaN,d=NaN,f=NaN;return u((function(x,b,S){return x.type&N.SMOOTH_CURVE_TO&&(x.type=N.CURVE_TO,h=isNaN(h)?b:h,g=isNaN(g)?S:g,x.x1=x.relative?b-h:2*b-h,x.y1=x.relative?S-g:2*S-g),x.type&N.CURVE_TO?(h=x.relative?b+x.x2:x.x2,g=x.relative?S+x.y2:x.y2):(h=NaN,g=NaN),x.type&N.SMOOTH_QUAD_TO&&(x.type=N.QUAD_TO,d=isNaN(d)?b:d,f=isNaN(f)?S:f,x.x1=x.relative?b-d:2*b-d,x.y1=x.relative?S-f:2*S-f),x.type&N.QUAD_TO?(d=x.relative?b+x.x1:x.x1,f=x.relative?S+x.y1:x.y1):(d=NaN,f=NaN),x}))}function n(){var h=NaN,g=NaN;return u((function(d,f,x){if(d.type&N.SMOOTH_QUAD_TO&&(d.type=N.QUAD_TO,h=isNaN(h)?f:h,g=isNaN(g)?x:g,d.x1=d.relative?f-h:2*f-h,d.y1=d.relative?x-g:2*x-g),d.type&N.QUAD_TO){h=d.relative?f+d.x1:d.x1,g=d.relative?x+d.y1:d.y1;var b=d.x1,S=d.y1;d.type=N.CURVE_TO,d.x1=((d.relative?0:f)+2*b)/3,d.y1=((d.relative?0:x)+2*S)/3,d.x2=(d.x+2*b)/3,d.y2=(d.y+2*S)/3}else h=NaN,g=NaN;return d}))}function u(h){var g=0,d=0,f=NaN,x=NaN;return function(b){if(isNaN(f)&&!(b.type&N.MOVE_TO))throw new Error("path must start with moveto");var S=h(b,g,d,f,x);return b.type&N.CLOSE_PATH&&(g=f,d=x),void 0!==b.x&&(g=b.relative?g+b.x:b.x),void 0!==b.y&&(d=b.relative?d+b.y:b.y),b.type&N.MOVE_TO&&(f=g,x=d),S}}function O(h,g,d,f,x,b){return a(h,g,d,f,x,b),u((function(S,w,A,C){var P=S.x1,E=S.x2,_=S.relative&&!isNaN(C),M=void 0!==S.x?S.x:_?0:w,V=void 0!==S.y?S.y:_?0:A;function l(h){return h*h}S.type&N.HORIZ_LINE_TO&&0!==g&&(S.type=N.LINE_TO,S.y=S.relative?0:A),S.type&N.VERT_LINE_TO&&0!==d&&(S.type=N.LINE_TO,S.x=S.relative?0:w),void 0!==S.x&&(S.x=S.x*h+V*d+(_?0:x)),void 0!==S.y&&(S.y=M*g+S.y*f+(_?0:b)),void 0!==S.x1&&(S.x1=S.x1*h+S.y1*d+(_?0:x)),void 0!==S.y1&&(S.y1=P*g+S.y1*f+(_?0:b)),void 0!==S.x2&&(S.x2=S.x2*h+S.y2*d+(_?0:x)),void 0!==S.y2&&(S.y2=E*g+S.y2*f+(_?0:b));var R=h*f-g*d;if(void 0!==S.xRot&&(1!==h||0!==g||0!==d||1!==f))if(0===R)delete S.rX,delete S.rY,delete S.xRot,delete S.lArcFlag,delete S.sweepFlag,S.type=N.LINE_TO;else{var k=S.xRot*Math.PI/180,L=Math.sin(k),D=Math.cos(k),B=1/l(S.rX),z=1/l(S.rY),F=l(D)*B+l(L)*z,U=2*L*D*(B-z),X=l(L)*B+l(D)*z,j=F*f*f-U*g*f+X*g*g,Y=U*(h*f+g*d)-2*(F*d*f+X*h*g),Q=F*d*d-U*h*d+X*h*h,W=(Math.atan2(Y,j-Q)+Math.PI)%Math.PI/2,q=Math.sin(W),G=Math.cos(W);S.rX=Math.abs(R)/Math.sqrt(j*l(G)+Y*q*G+Q*l(q)),S.rY=Math.abs(R)/Math.sqrt(j*l(q)-Y*q*G+Q*l(G)),S.xRot=180*W/Math.PI}return void 0!==S.sweepFlag&&0>R&&(S.sweepFlag=+!S.sweepFlag),S}))}h.ROUND=function(h){function r(g){return Math.round(g*h)/h}return void 0===h&&(h=1e13),a(h),function(h){return void 0!==h.x1&&(h.x1=r(h.x1)),void 0!==h.y1&&(h.y1=r(h.y1)),void 0!==h.x2&&(h.x2=r(h.x2)),void 0!==h.y2&&(h.y2=r(h.y2)),void 0!==h.x&&(h.x=r(h.x)),void 0!==h.y&&(h.y=r(h.y)),void 0!==h.rX&&(h.rX=r(h.rX)),void 0!==h.rY&&(h.rY=r(h.rY)),h}},h.TO_ABS=r,h.TO_REL=function(){return u((function(h,g,d){return h.relative||(void 0!==h.x1&&(h.x1-=g),void 0!==h.y1&&(h.y1-=d),void 0!==h.x2&&(h.x2-=g),void 0!==h.y2&&(h.y2-=d),void 0!==h.x&&(h.x-=g),void 0!==h.y&&(h.y-=d),h.relative=!0),h}))},h.NORMALIZE_HVZ=function(h,g,d){return void 0===h&&(h=!0),void 0===g&&(g=!0),void 0===d&&(d=!0),u((function(f,x,b,S,w){if(isNaN(S)&&!(f.type&N.MOVE_TO))throw new Error("path must start with moveto");return g&&f.type&N.HORIZ_LINE_TO&&(f.type=N.LINE_TO,f.y=f.relative?0:b),d&&f.type&N.VERT_LINE_TO&&(f.type=N.LINE_TO,f.x=f.relative?0:x),h&&f.type&N.CLOSE_PATH&&(f.type=N.LINE_TO,f.x=f.relative?S-x:S,f.y=f.relative?w-b:w),f.type&N.ARC&&(0===f.rX||0===f.rY)&&(f.type=N.LINE_TO,delete f.rX,delete f.rY,delete f.xRot,delete f.lArcFlag,delete f.sweepFlag),f}))},h.NORMALIZE_ST=e,h.QT_TO_C=n,h.INFO=u,h.SANITIZE=function(h){void 0===h&&(h=0),a(h);var g=NaN,d=NaN,f=NaN,x=NaN;return u((function(b,S,w,A,C){var P=Math.abs,E=!1,_=0,M=0;if(b.type&N.SMOOTH_CURVE_TO&&(_=isNaN(g)?0:S-g,M=isNaN(d)?0:w-d),b.type&(N.CURVE_TO|N.SMOOTH_CURVE_TO)?(g=b.relative?S+b.x2:b.x2,d=b.relative?w+b.y2:b.y2):(g=NaN,d=NaN),b.type&N.SMOOTH_QUAD_TO?(f=isNaN(f)?S:2*S-f,x=isNaN(x)?w:2*w-x):b.type&N.QUAD_TO?(f=b.relative?S+b.x1:b.x1,x=b.relative?w+b.y1:b.y2):(f=NaN,x=NaN),b.type&N.LINE_COMMANDS||b.type&N.ARC&&(0===b.rX||0===b.rY||!b.lArcFlag)||b.type&N.CURVE_TO||b.type&N.SMOOTH_CURVE_TO||b.type&N.QUAD_TO||b.type&N.SMOOTH_QUAD_TO){var V=void 0===b.x?0:b.relative?b.x:b.x-S,R=void 0===b.y?0:b.relative?b.y:b.y-w;_=isNaN(f)?void 0===b.x1?_:b.relative?b.x:b.x1-S:f-S,M=isNaN(x)?void 0===b.y1?M:b.relative?b.y:b.y1-w:x-w;var k=void 0===b.x2?0:b.relative?b.x:b.x2-S,L=void 0===b.y2?0:b.relative?b.y:b.y2-w;P(V)<=h&&P(R)<=h&&P(_)<=h&&P(M)<=h&&P(k)<=h&&P(L)<=h&&(E=!0)}return b.type&N.CLOSE_PATH&&P(S-A)<=h&&P(w-C)<=h&&(E=!0),E?[]:b}))},h.MATRIX=O,h.ROTATE=function(h,g,d){void 0===g&&(g=0),void 0===d&&(d=0),a(h,g,d);var f=Math.sin(h),x=Math.cos(h);return O(x,f,-f,x,g-g*x+d*f,d-g*f-d*x)},h.TRANSLATE=function(h,g){return void 0===g&&(g=0),a(h,g),O(1,0,0,1,h,g)},h.SCALE=function(h,g){return void 0===g&&(g=h),a(h,g),O(h,0,0,g,0,0)},h.SKEW_X=function(h){return a(h),O(1,0,Math.atan(h),1,0,0)},h.SKEW_Y=function(h){return a(h),O(1,Math.atan(h),0,1,0,0)},h.X_AXIS_SYMMETRY=function(h){return void 0===h&&(h=0),a(h),O(-1,0,0,1,h,0)},h.Y_AXIS_SYMMETRY=function(h){return void 0===h&&(h=0),a(h),O(1,0,0,-1,0,h)},h.A_TO_C=function(){return u((function(h,g,d){return N.ARC===h.type?function(h,g,d){var f,x,b,S;h.cX||o(h,g,d);for(var w=Math.min(h.phi1,h.phi2),A=Math.max(h.phi1,h.phi2)-w,C=Math.ceil(A/90),E=new Array(C),_=g,M=d,V=0;V<C;V++){var R=c(h.phi1,h.phi2,V/C),k=c(h.phi1,h.phi2,(V+1)/C),L=k-R,D=4/3*Math.tan(L*P/4),B=[Math.cos(R*P)-D*Math.sin(R*P),Math.sin(R*P)+D*Math.cos(R*P)],z=B[0],F=B[1],U=[Math.cos(k*P),Math.sin(k*P)],X=U[0],j=U[1],Y=[X+D*Math.sin(k*P),j-D*Math.cos(k*P)],Q=Y[0],W=Y[1];E[V]={relative:h.relative,type:N.CURVE_TO};var H=function(g,d){var f=i([g*h.rX,d*h.rY],h.xRot),x=f[0],b=f[1];return[h.cX+x,h.cY+b]};f=H(z,F),E[V].x1=f[0],E[V].y1=f[1],x=H(Q,W),E[V].x2=x[0],E[V].y2=x[1],b=H(X,j),E[V].x=b[0],E[V].y=b[1],h.relative&&(E[V].x1-=_,E[V].y1-=M,E[V].x2-=_,E[V].y2-=M,E[V].x-=_,E[V].y-=M),_=(S=[E[V].x,E[V].y])[0],M=S[1]}return E}(h,h.relative?0:g,h.relative?0:d):h}))},h.ANNOTATE_ARCS=function(){return u((function(h,g,d){return h.relative&&(g=0,d=0),N.ARC===h.type&&o(h,g,d),h}))},h.CLONE=function l(){return function(h){var g={};for(var d in h)g[d]=h[d];return g}},h.CALCULATE_BOUNDS=function(){var t=function(h){var g={};for(var d in h)g[d]=h[d];return g},h=r(),g=n(),d=e(),f=u((function(x,b,S){var w=d(g(h(t(x))));function O(h){h>f.maxX&&(f.maxX=h),h<f.minX&&(f.minX=h)}function l(h){h>f.maxY&&(f.maxY=h),h<f.minY&&(f.minY=h)}if(w.type&N.DRAWING_COMMANDS&&(O(b),l(S)),w.type&N.HORIZ_LINE_TO&&O(w.x),w.type&N.VERT_LINE_TO&&l(w.y),w.type&N.LINE_TO&&(O(w.x),l(w.y)),w.type&N.CURVE_TO){O(w.x),l(w.y);for(var A=0,C=p(b,w.x1,w.x2,w.x);A<C.length;A++)0<(j=C[A])&&1>j&&O(m(b,w.x1,w.x2,w.x,j));for(var P=0,E=p(S,w.y1,w.y2,w.y);P<E.length;P++)0<(j=E[P])&&1>j&&l(m(S,w.y1,w.y2,w.y,j))}if(w.type&N.ARC){O(w.x),l(w.y),o(w,b,S);for(var _=w.xRot/180*Math.PI,M=Math.cos(_)*w.rX,V=Math.sin(_)*w.rX,R=-Math.sin(_)*w.rY,k=Math.cos(_)*w.rY,L=w.phi1<w.phi2?[w.phi1,w.phi2]:-180>w.phi2?[w.phi2+360,w.phi1+360]:[w.phi2,w.phi1],D=L[0],B=L[1],I=function(h){var g=h[0],d=h[1],f=180*Math.atan2(d,g)/Math.PI;return f<D?f+360:f},z=0,F=s(R,-M,0).map(I);z<F.length;z++)(j=F[z])>D&&j<B&&O(y(w.cX,M,R,j));for(var U=0,X=s(k,-V,0).map(I);U<X.length;U++){var j;(j=X[U])>D&&j<B&&l(y(w.cY,V,k,j))}}return x}));return f.minX=1/0,f.maxX=-1/0,f.minY=1/0,f.maxY=-1/0,f}}(C||(C={}));var E,_=function(){function t(){}return t.prototype.round=function(h){return this.transform(C.ROUND(h))},t.prototype.toAbs=function(){return this.transform(C.TO_ABS())},t.prototype.toRel=function(){return this.transform(C.TO_REL())},t.prototype.normalizeHVZ=function(h,g,d){return this.transform(C.NORMALIZE_HVZ(h,g,d))},t.prototype.normalizeST=function(){return this.transform(C.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(C.QT_TO_C())},t.prototype.aToC=function(){return this.transform(C.A_TO_C())},t.prototype.sanitize=function(h){return this.transform(C.SANITIZE(h))},t.prototype.translate=function(h,g){return this.transform(C.TRANSLATE(h,g))},t.prototype.scale=function(h,g){return this.transform(C.SCALE(h,g))},t.prototype.rotate=function(h,g,d){return this.transform(C.ROTATE(h,g,d))},t.prototype.matrix=function(h,g,d,f,x,b){return this.transform(C.MATRIX(h,g,d,f,x,b))},t.prototype.skewX=function(h){return this.transform(C.SKEW_X(h))},t.prototype.skewY=function(h){return this.transform(C.SKEW_Y(h))},t.prototype.xSymmetry=function(h){return this.transform(C.X_AXIS_SYMMETRY(h))},t.prototype.ySymmetry=function(h){return this.transform(C.Y_AXIS_SYMMETRY(h))},t.prototype.annotateArcs=function(){return this.transform(C.ANNOTATE_ARCS())},t}(),T=function(h){return" "===h||"\t"===h||"\r"===h||"\n"===h},v=function(h){return"0".charCodeAt(0)<=h.charCodeAt(0)&&h.charCodeAt(0)<="9".charCodeAt(0)},M=function(h){function e(){var g=h.call(this)||this;return g.curNumber="",g.curCommandType=-1,g.curCommandRelative=!1,g.canParseCommandOrComma=!0,g.curNumberHasExp=!1,g.curNumberHasExpDigits=!1,g.curNumberHasDecimal=!1,g.curArgs=[],g}return r(e,h),e.prototype.finish=function(h){if(void 0===h&&(h=[]),this.parse(" ",h),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return h},e.prototype.parse=function(h,g){var d=this;void 0===g&&(g=[]);for(var i=function(h){g.push(h),d.curArgs.length=0,d.canParseCommandOrComma=!0},f=0;f<h.length;f++){var x=h[f],b=!(this.curCommandType!==N.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),S=v(x)&&("0"===this.curNumber&&"0"===x||b);if(!v(x)||S)if("e"!==x&&"E"!==x)if("-"!==x&&"+"!==x||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==x||this.curNumberHasExp||this.curNumberHasDecimal||b){if(this.curNumber&&-1!==this.curCommandType){var w=Number(this.curNumber);if(isNaN(w))throw new SyntaxError("Invalid number ending at "+f);if(this.curCommandType===N.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>w)throw new SyntaxError('Expected positive number, got "'+w+'" at index "'+f+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+f+'"');this.curArgs.push(w),this.curArgs.length===V[this.curCommandType]&&(N.HORIZ_LINE_TO===this.curCommandType?i({type:N.HORIZ_LINE_TO,relative:this.curCommandRelative,x:w}):N.VERT_LINE_TO===this.curCommandType?i({type:N.VERT_LINE_TO,relative:this.curCommandRelative,y:w}):this.curCommandType===N.MOVE_TO||this.curCommandType===N.LINE_TO||this.curCommandType===N.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),N.MOVE_TO===this.curCommandType&&(this.curCommandType=N.LINE_TO)):this.curCommandType===N.CURVE_TO?i({type:N.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===N.SMOOTH_CURVE_TO?i({type:N.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===N.QUAD_TO?i({type:N.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===N.ARC&&i({type:N.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!T(x))if(","===x&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==x&&"-"!==x&&"."!==x)if(S)this.curNumber=x,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+f+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+x+'" at index '+f+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==x&&"Z"!==x)if("h"===x||"H"===x)this.curCommandType=N.HORIZ_LINE_TO,this.curCommandRelative="h"===x;else if("v"===x||"V"===x)this.curCommandType=N.VERT_LINE_TO,this.curCommandRelative="v"===x;else if("m"===x||"M"===x)this.curCommandType=N.MOVE_TO,this.curCommandRelative="m"===x;else if("l"===x||"L"===x)this.curCommandType=N.LINE_TO,this.curCommandRelative="l"===x;else if("c"===x||"C"===x)this.curCommandType=N.CURVE_TO,this.curCommandRelative="c"===x;else if("s"===x||"S"===x)this.curCommandType=N.SMOOTH_CURVE_TO,this.curCommandRelative="s"===x;else if("q"===x||"Q"===x)this.curCommandType=N.QUAD_TO,this.curCommandRelative="q"===x;else if("t"===x||"T"===x)this.curCommandType=N.SMOOTH_QUAD_TO,this.curCommandRelative="t"===x;else{if("a"!==x&&"A"!==x)throw new SyntaxError('Unexpected character "'+x+'" at index '+f+".");this.curCommandType=N.ARC,this.curCommandRelative="a"===x}else g.push({type:N.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=x,this.curNumberHasDecimal="."===x}else this.curNumber+=x,this.curNumberHasDecimal=!0;else this.curNumber+=x;else this.curNumber+=x,this.curNumberHasExp=!0;else this.curNumber+=x,this.curNumberHasExpDigits=this.curNumberHasExp}return g},e.prototype.transform=function(h){return Object.create(this,{parse:{value:function(g,d){void 0===d&&(d=[]);for(var f=0,x=Object.getPrototypeOf(this).parse.call(this,g);f<x.length;f++){var b=x[f],S=h(b);Array.isArray(S)?d.push.apply(d,S):d.push(S)}return d}}})},e}(_),N=function(h){function i(g){var d=h.call(this)||this;return d.commands="string"==typeof g?i.parse(g):g,d}return r(i,h),i.prototype.encode=function(){return i.encode(this.commands)},i.prototype.getBounds=function(){var h=C.CALCULATE_BOUNDS();return this.transform(h),h},i.prototype.transform=function(h){for(var g=[],d=0,f=this.commands;d<f.length;d++){var x=h(f[d]);Array.isArray(x)?g.push.apply(g,x):g.push(x)}return this.commands=g,this},i.encode=function(h){return e(h)},i.parse=function(h){var g=new M,d=[];return g.parse(h,d),g.finish(d),d},i.CLOSE_PATH=1,i.MOVE_TO=2,i.HORIZ_LINE_TO=4,i.VERT_LINE_TO=8,i.LINE_TO=16,i.CURVE_TO=32,i.SMOOTH_CURVE_TO=64,i.QUAD_TO=128,i.SMOOTH_QUAD_TO=256,i.ARC=512,i.LINE_COMMANDS=i.LINE_TO|i.HORIZ_LINE_TO|i.VERT_LINE_TO,i.DRAWING_COMMANDS=i.HORIZ_LINE_TO|i.VERT_LINE_TO|i.LINE_TO|i.CURVE_TO|i.SMOOTH_CURVE_TO|i.QUAD_TO|i.SMOOTH_QUAD_TO|i.ARC,i}(_),V=((E={})[N.MOVE_TO]=2,E[N.LINE_TO]=2,E[N.HORIZ_LINE_TO]=1,E[N.VERT_LINE_TO]=1,E[N.CLOSE_PATH]=0,E[N.QUAD_TO]=4,E[N.SMOOTH_QUAD_TO]=2,E[N.CURVE_TO]=6,E[N.SMOOTH_CURVE_TO]=4,E[N.ARC]=7,E);d(39714);function _typeof(h){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},_typeof(h)}function _classCallCheck(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var R=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],k=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function getImageDataFromCanvas(h,g,d,f,x){if("string"==typeof h&&(h=document.getElementById(h)),!h||"object"!==_typeof(h)||!("getContext"in h))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var b=h.getContext("2d");try{return b.getImageData(g,d,f,x)}catch(h){throw new Error("unable to access image data: "+h)}}function processCanvasRGBA(h,g,d,f,x,b){if(!(isNaN(b)||b<1)){b|=0;var S=getImageDataFromCanvas(h,g,d,f,x);S=processImageDataRGBA(S,g,d,f,x,b),h.getContext("2d").putImageData(S,g,d)}}function processImageDataRGBA(h,g,d,f,x,b){for(var S,w=h.data,A=2*b+1,C=f-1,P=x-1,E=b+1,_=E*(E+1)/2,M=new L,N=M,V=1;V<A;V++)N=N.next=new L,V===E&&(S=N);N.next=M;for(var D=null,B=null,z=0,F=0,U=R[b],X=k[b],j=0;j<x;j++){N=M;for(var Y=w[F],Q=w[F+1],W=w[F+2],q=w[F+3],G=0;G<E;G++)N.r=Y,N.g=Q,N.b=W,N.a=q,N=N.next;for(var $=0,Z=0,K=0,J=0,tt=E*Y,et=E*Q,rt=E*W,it=E*q,nt=_*Y,at=_*Q,st=_*W,ot=_*q,ht=1;ht<E;ht++){var lt=F+((C<ht?C:ht)<<2),ut=w[lt],ct=w[lt+1],gt=w[lt+2],dt=w[lt+3],pt=E-ht;nt+=(N.r=ut)*pt,at+=(N.g=ct)*pt,st+=(N.b=gt)*pt,ot+=(N.a=dt)*pt,$+=ut,Z+=ct,K+=gt,J+=dt,N=N.next}D=M,B=S;for(var ft=0;ft<f;ft++){var mt=ot*U>>X;if(w[F+3]=mt,0!==mt){var yt=255/mt;w[F]=(nt*U>>X)*yt,w[F+1]=(at*U>>X)*yt,w[F+2]=(st*U>>X)*yt}else w[F]=w[F+1]=w[F+2]=0;nt-=tt,at-=et,st-=rt,ot-=it,tt-=D.r,et-=D.g,rt-=D.b,it-=D.a;var vt=ft+b+1;vt=z+(vt<C?vt:C)<<2,nt+=$+=D.r=w[vt],at+=Z+=D.g=w[vt+1],st+=K+=D.b=w[vt+2],ot+=J+=D.a=w[vt+3],D=D.next;var xt=B,bt=xt.r,St=xt.g,wt=xt.b,At=xt.a;tt+=bt,et+=St,rt+=wt,it+=At,$-=bt,Z-=St,K-=wt,J-=At,B=B.next,F+=4}z+=f}for(var Tt=0;Tt<f;Tt++){var Ct=w[F=Tt<<2],Ot=w[F+1],Pt=w[F+2],Et=w[F+3],_t=E*Ct,Mt=E*Ot,Nt=E*Pt,Vt=E*Et,Rt=_*Ct,kt=_*Ot,It=_*Pt,Lt=_*Et;N=M;for(var Dt=0;Dt<E;Dt++)N.r=Ct,N.g=Ot,N.b=Pt,N.a=Et,N=N.next;for(var Bt=f,zt=0,Ft=0,Ut=0,Ht=0,Xt=1;Xt<=b;Xt++){F=Bt+Tt<<2;var jt=E-Xt;Rt+=(N.r=Ct=w[F])*jt,kt+=(N.g=Ot=w[F+1])*jt,It+=(N.b=Pt=w[F+2])*jt,Lt+=(N.a=Et=w[F+3])*jt,Ht+=Ct,zt+=Ot,Ft+=Pt,Ut+=Et,N=N.next,Xt<P&&(Bt+=f)}F=Tt,D=M,B=S;for(var Yt=0;Yt<x;Yt++){var Qt=F<<2;w[Qt+3]=Et=Lt*U>>X,Et>0?(Et=255/Et,w[Qt]=(Rt*U>>X)*Et,w[Qt+1]=(kt*U>>X)*Et,w[Qt+2]=(It*U>>X)*Et):w[Qt]=w[Qt+1]=w[Qt+2]=0,Rt-=_t,kt-=Mt,It-=Nt,Lt-=Vt,_t-=D.r,Mt-=D.g,Nt-=D.b,Vt-=D.a,Qt=Tt+((Qt=Yt+E)<P?Qt:P)*f<<2,Rt+=Ht+=D.r=w[Qt],kt+=zt+=D.g=w[Qt+1],It+=Ft+=D.b=w[Qt+2],Lt+=Ut+=D.a=w[Qt+3],D=D.next,_t+=Ct=B.r,Mt+=Ot=B.g,Nt+=Pt=B.b,Vt+=Et=B.a,Ht-=Ct,zt-=Ot,Ft-=Pt,Ut-=Et,B=B.next,F+=f}}return h}var L=function BlurStack(){_classCallCheck(this,BlurStack),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};var D=Object.freeze({__proto__:null,offscreen:function offscreen(){var{DOMParser:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:h,createCanvas:(h,g)=>new OffscreenCanvas(h,g),createImage:h=>(0,f.Z)((function*(){var g=yield fetch(h),d=yield g.blob();return yield createImageBitmap(d)}))()};return"undefined"==typeof DOMParser&&void 0!==h||Reflect.deleteProperty(g,"DOMParser"),g},node:function node(h){var{DOMParser:g,canvas:d,fetch:f}=h;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:g,fetch:f,createCanvas:d.createCanvas,createImage:d.loadImage}}});function compressSpaces(h){return h.replace(/(?!\u3000)\s+/gm," ")}function trimLeft(h){return h.replace(/^[\n \t]+/,"")}function trimRight(h){return h.replace(/[\n \t]+$/,"")}function toNumbers(h){return((h||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var B=/^[A-Z-]+$/;function normalizeAttributeName(h){return B.test(h)?h.toLowerCase():h}function parseExternalUrl(h){var g=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(h)||[];return g[2]||g[3]||g[4]}function normalizeColor(h){if(!h.startsWith("rgb"))return h;var g=3;return h.replace(/\d+(\.\d+)?/g,((h,d)=>g--&&d?String(Math.round(parseFloat(h))):h))}var z=/(\[[^\]]+\])/g,F=/(#[^\s+>~.[:]+)/g,U=/(\.[^\s+>~.[:]+)/g,X=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,j=/(:[\w-]+\([^)]*\))/gi,Y=/(:[^\s+>~.[:]+)/g,Q=/([^\s+>~.[:]+)/g;function findSelectorMatch(h,g){var d=g.exec(h);return d?[h.replace(g," "),d.length]:[h,0]}function getSelectorSpecificity(h){var g=[0,0,0],d=h.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),f=0;return[d,f]=findSelectorMatch(d,z),g[1]+=f,[d,f]=findSelectorMatch(d,F),g[0]+=f,[d,f]=findSelectorMatch(d,U),g[1]+=f,[d,f]=findSelectorMatch(d,X),g[2]+=f,[d,f]=findSelectorMatch(d,j),g[1]+=f,[d,f]=findSelectorMatch(d,Y),g[1]+=f,d=d.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[d,f]=findSelectorMatch(d,Q),g[2]+=f,g.join("")}var W=1e-8;function vectorMagnitude(h){return Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2))}function vectorsRatio(h,g){return(h[0]*g[0]+h[1]*g[1])/(vectorMagnitude(h)*vectorMagnitude(g))}function vectorsAngle(h,g){return(h[0]*g[1]<h[1]*g[0]?-1:1)*Math.acos(vectorsRatio(h,g))}function CB1(h){return h*h*h}function CB2(h){return 3*h*h*(1-h)}function CB3(h){return 3*h*(1-h)*(1-h)}function CB4(h){return(1-h)*(1-h)*(1-h)}function QB1(h){return h*h}function QB2(h){return 2*h*(1-h)}function QB3(h){return(1-h)*(1-h)}class q{constructor(h,g,d){this.document=h,this.name=g,this.value=d,this.isNormalizedColor=!1}static empty(h){return new q(h,"EMPTY","")}split(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",{document:g,name:d}=this;return compressSpaces(this.getString()).trim().split(h).map((h=>new q(g,d,h)))}hasValue(h){var{value:g}=this;return null!==g&&""!==g&&(h||0!==g)&&void 0!==g}isString(h){var{value:g}=this,d="string"==typeof g;return d&&h?h.test(g):d}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var h=this.getString();switch(!0){case h.endsWith("px"):case/^[0-9]+$/.test(h):return!0;default:return!1}}setValue(h){return this.value=h,this}getValue(h){return void 0===h||this.hasValue()?this.value:h}getNumber(h){if(!this.hasValue())return void 0===h?0:parseFloat(h);var{value:g}=this,d=parseFloat(g);return this.isString(/%$/)&&(d/=100),d}getString(h){return void 0===h||this.hasValue()?void 0===this.value?"":String(this.value):String(h)}getColor(h){var g=this.getString(h);return this.isNormalizedColor||(this.isNormalizedColor=!0,g=normalizeColor(g),this.value=g),g}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(h){var g=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[d,f]="boolean"==typeof h?[void 0,h]:[h],{viewPort:x}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(x.computeSize("x"),x.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(x.computeSize("x"),x.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*x.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*x.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&f:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*x.computeSize(d);default:var b=this.getNumber();return g&&b<1?b*x.computeSize(d):b}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var h=this.getString(),g=/#([^)'"]+)/.exec(h);return g&&(g=g[1]),g||(g=h),this.document.definitions[g]}getFillStyleDefinition(h,g){var d=this.getDefinition();if(!d)return null;if("function"==typeof d.createGradient)return d.createGradient(this.document.ctx,h,g);if("function"==typeof d.createPattern){if(d.getHrefAttribute().hasValue()){var f=d.getAttribute("patternTransform");d=d.getHrefAttribute().getDefinition(),f.hasValue()&&d.getAttribute("patternTransform",!0).setValue(f.value)}return d.createPattern(this.document.ctx,h,g)}return null}getTextBaseline(){return this.hasValue()?q.textBaselineMapping[this.getString()]:null}addOpacity(h){for(var g=this.getColor(),d=g.length,f=0,x=0;x<d&&(","===g[x]&&f++,3!==f);x++);if(h.hasValue()&&this.isString()&&3!==f){var b=new S(g);b.ok&&(b.alpha=h.getNumber(),g=b.toRGBA())}return new q(this.document,this.name,g)}}q.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class G{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(h,g){this.viewPorts.push({width:h,height:g})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:h}=this;return h[h.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(h){return"number"==typeof h?h:"x"===h?this.width:"y"===h?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class ${constructor(h,g){this.x=h,this.y=g}static parse(h){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[d=g,f=g]=toNumbers(h);return new $(d,f)}static parseScale(h){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[d=g,f=d]=toNumbers(h);return new $(d,f)}static parsePath(h){for(var g=toNumbers(h),d=g.length,f=[],x=0;x<d;x+=2)f.push(new $(g[x],g[x+1]));return f}angleTo(h){return Math.atan2(h.y-this.y,h.x-this.x)}applyTransform(h){var{x:g,y:d}=this,f=g*h[0]+d*h[2]+h[4],x=g*h[1]+d*h[3]+h[5];this.x=f,this.y=x}}class Z{constructor(h){this.screen=h,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:h,onClick:g,onMouseMove:d}=this,f=h.ctx.canvas;f.onclick=g,f.onmousemove=d,this.working=!0}}stop(){if(this.working){var h=this.screen.ctx.canvas;this.working=!1,h.onclick=null,h.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:h,events:g,eventElements:d}=this,{style:f}=h.ctx.canvas;f&&(f.cursor=""),g.forEach(((h,g)=>{for(var{run:f}=h,x=d[g];x;)f(x),x=x.parent})),this.events=[],this.eventElements=[]}}checkPath(h,g){if(this.working&&g){var{events:d,eventElements:f}=this;d.forEach(((d,x)=>{var{x:b,y:S}=d;!f[x]&&g.isPointInPath&&g.isPointInPath(b,S)&&(f[x]=h)}))}}checkBoundingBox(h,g){if(this.working&&g){var{events:d,eventElements:f}=this;d.forEach(((d,x)=>{var{x:b,y:S}=d;!f[x]&&g.isPointInBox(b,S)&&(f[x]=h)}))}}mapXY(h,g){for(var{window:d,ctx:f}=this.screen,x=new $(h,g),b=f.canvas;b;)x.x-=b.offsetLeft,x.y-=b.offsetTop,b=b.offsetParent;return d.scrollX&&(x.x+=d.scrollX),d.scrollY&&(x.y+=d.scrollY),x}onClick(h){var{x:g,y:d}=this.mapXY(h.clientX,h.clientY);this.events.push({type:"onclick",x:g,y:d,run(h){h.onClick&&h.onClick()}})}onMouseMove(h){var{x:g,y:d}=this.mapXY(h.clientX,h.clientY);this.events.push({type:"onmousemove",x:g,y:d,run(h){h.onMouseMove&&h.onMouseMove()}})}}var K="undefined"!=typeof window?window:null,J="undefined"!=typeof fetch?fetch.bind(void 0):null;class tt{constructor(h){var{fetch:g=J,window:d=K}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=h,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new G,this.mouse=new Z(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=d,this.fetch=g}wait(h){this.waits.push(h)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var h=this.waits.every((h=>h()));return h&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=h,h}setDefaults(h){h.strokeStyle="rgba(0,0,0,0)",h.lineCap="butt",h.lineJoin="miter",h.miterLimit=4}setViewBox(h){var{document:g,ctx:d,aspectRatio:f,width:x,desiredWidth:b,height:S,desiredHeight:w,minX:A=0,minY:C=0,refX:P,refY:E,clip:_=!1,clipX:M=0,clipY:N=0}=h,V=compressSpaces(f).replace(/^defer\s/,""),[R,k]=V.split(" "),L=R||"xMidYMid",D=k||"meet",B=x/b,z=S/w,F=Math.min(B,z),U=Math.max(B,z),X=b,j=w;"meet"===D&&(X*=F,j*=F),"slice"===D&&(X*=U,j*=U);var Y=new q(g,"refX",P),Q=new q(g,"refY",E),W=Y.hasValue()&&Q.hasValue();if(W&&d.translate(-F*Y.getPixels("x"),-F*Q.getPixels("y")),_){var G=F*M,$=F*N;d.beginPath(),d.moveTo(G,$),d.lineTo(x,$),d.lineTo(x,S),d.lineTo(G,S),d.closePath(),d.clip()}if(!W){var Z="meet"===D&&F===z,K="slice"===D&&U===z,J="meet"===D&&F===B,tt="slice"===D&&U===B;L.startsWith("xMid")&&(Z||K)&&d.translate(x/2-X/2,0),L.endsWith("YMid")&&(J||tt)&&d.translate(0,S/2-j/2),L.startsWith("xMax")&&(Z||K)&&d.translate(x-X,0),L.endsWith("YMax")&&(J||tt)&&d.translate(0,S-j)}switch(!0){case"none"===L:d.scale(B,z);break;case"meet"===D:d.scale(F,F);break;case"slice"===D:d.scale(U,U)}d.translate(-A,-C)}start(h){var{enableRedraw:g=!1,ignoreMouse:d=!1,ignoreAnimation:f=!1,ignoreDimensions:x=!1,ignoreClear:S=!1,forceRedraw:w,scaleWidth:A,scaleHeight:C,offsetX:P,offsetY:E}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:_,mouse:M}=this,N=1e3/_;if(this.frameDuration=N,this.readyPromise=new Promise((h=>{this.resolveReady=h})),this.isReady()&&this.render(h,x,S,A,C,P,E),g){var V=Date.now(),R=V,k=0,tick=()=>{V=Date.now(),(k=V-R)>=N&&(R=V-k%N,this.shouldUpdate(f,w)&&(this.render(h,x,S,A,C,P,E),M.runEvents())),this.intervalId=b(tick)};d||M.start(),this.intervalId=b(tick)}}stop(){this.intervalId&&(b.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(h,g){if(!h){var{frameDuration:d}=this;if(this.animations.reduce(((h,g)=>g.update(d)||h),!1))return!0}return!("function"!=typeof g||!g())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}render(h,g,d,f,x,b,S){var{CLIENT_WIDTH:w,CLIENT_HEIGHT:A,viewPort:C,ctx:P,isFirstRender:E}=this,_=P.canvas;C.clear(),_.width&&_.height?C.setCurrent(_.width,_.height):C.setCurrent(w,A);var M=h.getStyle("width"),N=h.getStyle("height");!g&&(E||"number"!=typeof f&&"number"!=typeof x)&&(M.hasValue()&&(_.width=M.getPixels("x"),_.style&&(_.style.width="".concat(_.width,"px"))),N.hasValue()&&(_.height=N.getPixels("y"),_.style&&(_.style.height="".concat(_.height,"px"))));var V=_.clientWidth||_.width,R=_.clientHeight||_.height;if(g&&M.hasValue()&&N.hasValue()&&(V=M.getPixels("x"),R=N.getPixels("y")),C.setCurrent(V,R),"number"==typeof b&&h.getAttribute("x",!0).setValue(b),"number"==typeof S&&h.getAttribute("y",!0).setValue(S),"number"==typeof f||"number"==typeof x){var k=toNumbers(h.getAttribute("viewBox").getString()),L=0,D=0;if("number"==typeof f){var B=h.getStyle("width");B.hasValue()?L=B.getPixels("x")/f:isNaN(k[2])||(L=k[2]/f)}if("number"==typeof x){var z=h.getStyle("height");z.hasValue()?D=z.getPixels("y")/x:isNaN(k[3])||(D=k[3]/x)}L||(L=D),D||(D=L),h.getAttribute("width",!0).setValue(f),h.getAttribute("height",!0).setValue(x);var F=h.getStyle("transform",!0,!0);F.setValue("".concat(F.getString()," scale(").concat(1/L,", ").concat(1/D,")"))}d||P.clearRect(0,0,V,R),h.render(P),E&&(this.isFirstRender=!1)}}tt.defaultWindow=K,tt.defaultFetch=J;var{defaultFetch:et}=tt,rt="undefined"!=typeof DOMParser?DOMParser:null;class it{constructor(){var{fetch:h=et,DOMParser:g=rt}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=h,this.DOMParser=g}parse(h){var g=this;return(0,f.Z)((function*(){return h.startsWith("<")?g.parseFromString(h):g.load(h)}))()}parseFromString(h){var g=new this.DOMParser;try{return this.checkDocument(g.parseFromString(h,"image/svg+xml"))}catch(d){return this.checkDocument(g.parseFromString(h,"text/xml"))}}checkDocument(h){var g=h.getElementsByTagName("parsererror")[0];if(g)throw new Error(g.textContent);return h}load(h){var g=this;return(0,f.Z)((function*(){var d=yield g.fetch(h),f=yield d.text();return g.parseFromString(f)}))()}}class nt{constructor(h,g){this.type="translate",this.point=null,this.point=$.parse(g)}apply(h){var{x:g,y:d}=this.point;h.translate(g||0,d||0)}unapply(h){var{x:g,y:d}=this.point;h.translate(-1*g||0,-1*d||0)}applyToPoint(h){var{x:g,y:d}=this.point;h.applyTransform([1,0,0,1,g||0,d||0])}}class at{constructor(h,g,d){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var f=toNumbers(g);this.angle=new q(h,"angle",f[0]),this.originX=d[0],this.originY=d[1],this.cx=f[1]||0,this.cy=f[2]||0}apply(h){var{cx:g,cy:d,originX:f,originY:x,angle:b}=this,S=g+f.getPixels("x"),w=d+x.getPixels("y");h.translate(S,w),h.rotate(b.getRadians()),h.translate(-S,-w)}unapply(h){var{cx:g,cy:d,originX:f,originY:x,angle:b}=this,S=g+f.getPixels("x"),w=d+x.getPixels("y");h.translate(S,w),h.rotate(-1*b.getRadians()),h.translate(-S,-w)}applyToPoint(h){var{cx:g,cy:d,angle:f}=this,x=f.getRadians();h.applyTransform([1,0,0,1,g||0,d||0]),h.applyTransform([Math.cos(x),Math.sin(x),-Math.sin(x),Math.cos(x),0,0]),h.applyTransform([1,0,0,1,-g||0,-d||0])}}class st{constructor(h,g,d){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var f=$.parseScale(g);0!==f.x&&0!==f.y||(f.x=W,f.y=W),this.scale=f,this.originX=d[0],this.originY=d[1]}apply(h){var{scale:{x:g,y:d},originX:f,originY:x}=this,b=f.getPixels("x"),S=x.getPixels("y");h.translate(b,S),h.scale(g,d||g),h.translate(-b,-S)}unapply(h){var{scale:{x:g,y:d},originX:f,originY:x}=this,b=f.getPixels("x"),S=x.getPixels("y");h.translate(b,S),h.scale(1/g,1/d||g),h.translate(-b,-S)}applyToPoint(h){var{x:g,y:d}=this.scale;h.applyTransform([g||0,0,0,d||0,0,0])}}class ot{constructor(h,g,d){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=toNumbers(g),this.originX=d[0],this.originY=d[1]}apply(h){var{originX:g,originY:d,matrix:f}=this,x=g.getPixels("x"),b=d.getPixels("y");h.translate(x,b),h.transform(f[0],f[1],f[2],f[3],f[4],f[5]),h.translate(-x,-b)}unapply(h){var{originX:g,originY:d,matrix:f}=this,x=f[0],b=f[2],S=f[4],w=f[1],A=f[3],C=f[5],P=1/(x*(1*A-0*C)-b*(1*w-0*C)+S*(0*w-0*A)),E=g.getPixels("x"),_=d.getPixels("y");h.translate(E,_),h.transform(P*(1*A-0*C),P*(0*C-1*w),P*(0*S-1*b),P*(1*x-0*S),P*(b*C-S*A),P*(S*w-x*C)),h.translate(-E,-_)}applyToPoint(h){h.applyTransform(this.matrix)}}class ht extends ot{constructor(h,g,d){super(h,g,d),this.type="skew",this.angle=null,this.angle=new q(h,"angle",g)}}class lt extends ht{constructor(h,g,d){super(h,g,d),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class ut extends ht{constructor(h,g,d){super(h,g,d),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function parseTransforms(h){return compressSpaces(h).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function parseTransform(h){var[g,d]=h.split("(");return[g.trim(),d.trim().replace(")","")]}class ct{constructor(h,g,d){this.document=h,this.transforms=[],parseTransforms(g).forEach((h=>{if("none"!==h){var[g,f]=parseTransform(h),x=ct.transformTypes[g];void 0!==x&&this.transforms.push(new x(this.document,f,d))}}))}static fromElement(h,g){var d=g.getStyle("transform",!1,!0),[f,x=f]=g.getStyle("transform-origin",!1,!0).split(),b=[f,x];return d.hasValue()?new ct(h,d.getString(),b):null}apply(h){for(var{transforms:g}=this,d=g.length,f=0;f<d;f++)g[f].apply(h)}unapply(h){for(var{transforms:g}=this,d=g.length-1;d>=0;d--)g[d].unapply(h)}applyToPoint(h){for(var{transforms:g}=this,d=g.length,f=0;f<d;f++)g[f].applyToPoint(h)}}ct.transformTypes={translate:nt,rotate:at,scale:st,matrix:ot,skewX:lt,skewY:ut};class gt{constructor(h,g){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=h,this.node=g,this.captureTextNodes=d,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],g&&1===g.nodeType){if(Array.from(g.attributes).forEach((g=>{var d=normalizeAttributeName(g.nodeName);this.attributes[d]=new q(h,d,g.value)})),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var f=this.getAttribute("style").getString().split(";").map((h=>h.trim()));f.forEach((g=>{if(g){var[d,f]=g.split(":").map((h=>h.trim()));this.styles[d]=new q(h,d,f)}}))}var{definitions:x}=h,b=this.getAttribute("id");b.hasValue()&&(x[b.getString()]||(x[b.getString()]=this)),Array.from(g.childNodes).forEach((g=>{if(1===g.nodeType)this.addChild(g);else if(d&&(3===g.nodeType||4===g.nodeType)){var f=h.createTextNode(g);f.getText().length>0&&this.addChild(f)}}))}}getAttribute(h){var g=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=this.attributes[h];if(!d&&g){var f=new q(this.document,h,"");return this.attributes[h]=f,f}return d||q.empty(this.document)}getHrefAttribute(){for(var h in this.attributes)if("href"===h||h.endsWith(":href"))return this.attributes[h];return q.empty(this.document)}getStyle(h){var g=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=this.styles[h];if(f)return f;var x=this.getAttribute(h);if(null!=x&&x.hasValue())return this.styles[h]=x,x;if(!d){var{parent:b}=this;if(b){var S=b.getStyle(h);if(null!=S&&S.hasValue())return S}}if(g){var w=new q(this.document,h,"");return this.styles[h]=w,w}return f||q.empty(this.document)}render(h){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(h.save(),this.getStyle("mask").hasValue()){var g=this.getStyle("mask").getDefinition();g&&(this.applyEffects(h),g.apply(h,this))}else if("none"!==this.getStyle("filter").getValue("none")){var d=this.getStyle("filter").getDefinition();d&&(this.applyEffects(h),d.apply(h,this))}else this.setContext(h),this.renderChildren(h),this.clearContext(h);h.restore()}}setContext(h){}applyEffects(h){var g=ct.fromElement(this.document,this);g&&g.apply(h);var d=this.getStyle("clip-path",!1,!0);if(d.hasValue()){var f=d.getDefinition();f&&f.apply(h)}}clearContext(h){}renderChildren(h){this.children.forEach((g=>{g.render(h)}))}addChild(h){var g=h instanceof gt?h:this.document.createElement(h);g.parent=this,gt.ignoreChildTypes.includes(g.type)||this.children.push(g)}matchesSelector(h){var g,{node:d}=this;if("function"==typeof d.matches)return d.matches(h);var f=null===(g=d.getAttribute)||void 0===g?void 0:g.call(d,"class");return!(!f||""===f)&&f.split(" ").some((g=>".".concat(g)===h))}addStylesFromStyleDefinition(){var{styles:h,stylesSpecificity:g}=this.document;for(var d in h)if(!d.startsWith("@")&&this.matchesSelector(d)){var f=h[d],x=g[d];if(f)for(var b in f){var S=this.stylesSpecificity[b];void 0===S&&(S="000"),x>=S&&(this.styles[b]=f[b],this.stylesSpecificity[b]=x)}}}removeStyles(h,g){return g.reduce(((g,d)=>{var f=h.getStyle(d);if(!f.hasValue())return g;var x=f.getString();return f.setValue(""),[...g,[d,x]]}),[])}restoreStyles(h,g){g.forEach((g=>{var[d,f]=g;h.getStyle(d,!0).setValue(f)}))}isFirstChild(){var h;return 0===(null===(h=this.parent)||void 0===h?void 0:h.children.indexOf(this))}}gt.ignoreChildTypes=["title"];class dt extends gt{constructor(h,g,d){super(h,g,d)}}function wrapFontFamily(h){var g=h.trim();return/^('|")/.test(g)?g:'"'.concat(g,'"')}function prepareFontStyle(h){if(!h)return"";var g=h.trim().toLowerCase();switch(g){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return g;default:return/^oblique\s+(-|)\d+deg$/.test(g)?g:""}}function prepareFontWeight(h){if(!h)return"";var g=h.trim().toLowerCase();switch(g){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return g;default:return/^[\d.]+$/.test(g)?g:""}}class pt{constructor(h,g,d,f,x,b){var S=b?"string"==typeof b?pt.parse(b):b:{};this.fontFamily=x||S.fontFamily,this.fontSize=f||S.fontSize,this.fontStyle=h||S.fontStyle,this.fontWeight=d||S.fontWeight,this.fontVariant=g||S.fontVariant}static parse(){var h=arguments.length>1?arguments[1]:void 0,g="",d="",f="",x="",b="",S=compressSpaces(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" "),w={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return S.forEach((h=>{switch(!0){case!w.fontStyle&&pt.styles.includes(h):"inherit"!==h&&(g=h),w.fontStyle=!0;break;case!w.fontVariant&&pt.variants.includes(h):"inherit"!==h&&(d=h),w.fontStyle=!0,w.fontVariant=!0;break;case!w.fontWeight&&pt.weights.includes(h):"inherit"!==h&&(f=h),w.fontStyle=!0,w.fontVariant=!0,w.fontWeight=!0;break;case!w.fontSize:"inherit"!==h&&([x]=h.split("/")),w.fontStyle=!0,w.fontVariant=!0,w.fontWeight=!0,w.fontSize=!0;break;default:"inherit"!==h&&(b+=h)}})),new pt(g,d,f,x,b,h)}toString(){return[prepareFontStyle(this.fontStyle),this.fontVariant,prepareFontWeight(this.fontWeight),this.fontSize,(h=this.fontFamily,"undefined"==typeof process?h:h.trim().split(",").map(wrapFontFamily).join(","))].join(" ").trim();var h}}pt.styles="normal|italic|oblique|inherit",pt.variants="normal|small-caps|inherit",pt.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class ft{constructor(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=h,this.y1=g,this.x2=d,this.y2=f,this.addPoint(h,g),this.addPoint(d,f)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(h,g){void 0!==h&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=h,this.x2=h),h<this.x1&&(this.x1=h),h>this.x2&&(this.x2=h)),void 0!==g&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=g,this.y2=g),g<this.y1&&(this.y1=g),g>this.y2&&(this.y2=g))}addX(h){this.addPoint(h,null)}addY(h){this.addPoint(null,h)}addBoundingBox(h){if(h){var{x1:g,y1:d,x2:f,y2:x}=h;this.addPoint(g,d),this.addPoint(f,x)}}sumCubic(h,g,d,f,x){return Math.pow(1-h,3)*g+3*Math.pow(1-h,2)*h*d+3*(1-h)*Math.pow(h,2)*f+Math.pow(h,3)*x}bezierCurveAdd(h,g,d,f,x){var b=6*g-12*d+6*f,S=-3*g+9*d-9*f+3*x,w=3*d-3*g;if(0!==S){var A=Math.pow(b,2)-4*w*S;if(!(A<0)){var C=(-b+Math.sqrt(A))/(2*S);0<C&&C<1&&(h?this.addX(this.sumCubic(C,g,d,f,x)):this.addY(this.sumCubic(C,g,d,f,x)));var P=(-b-Math.sqrt(A))/(2*S);0<P&&P<1&&(h?this.addX(this.sumCubic(P,g,d,f,x)):this.addY(this.sumCubic(P,g,d,f,x)))}}else{if(0===b)return;var E=-w/b;0<E&&E<1&&(h?this.addX(this.sumCubic(E,g,d,f,x)):this.addY(this.sumCubic(E,g,d,f,x)))}}addBezierCurve(h,g,d,f,x,b,S,w){this.addPoint(h,g),this.addPoint(S,w),this.bezierCurveAdd(!0,h,d,x,S),this.bezierCurveAdd(!1,g,f,b,w)}addQuadraticCurve(h,g,d,f,x,b){var S=h+2/3*(d-h),w=g+2/3*(f-g),A=S+1/3*(x-h),C=w+1/3*(b-g);this.addBezierCurve(h,g,S,A,w,C,x,b)}isPointInBox(h,g){var{x1:d,y1:f,x2:x,y2:b}=this;return d<=h&&h<=x&&f<=g&&g<=b}}class mt extends N{constructor(h){super(h.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new $(0,0),this.control=new $(0,0),this.current=new $(0,0),this.points=[],this.angles=[]}isEnd(){var{i:h,commands:g}=this;return h>=g.length-1}next(){var h=this.commands[++this.i];return this.previousCommand=this.command,this.command=h,h}getPoint(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",d=new $(this.command[h],this.command[g]);return this.makeAbsolute(d)}getAsControlPoint(h,g){var d=this.getPoint(h,g);return this.control=d,d}getAsCurrentPoint(h,g){var d=this.getPoint(h,g);return this.current=d,d}getReflectedControlPoint(){var h=this.previousCommand.type;if(h!==N.CURVE_TO&&h!==N.SMOOTH_CURVE_TO&&h!==N.QUAD_TO&&h!==N.SMOOTH_QUAD_TO)return this.current;var{current:{x:g,y:d},control:{x:f,y:x}}=this;return new $(2*g-f,2*d-x)}makeAbsolute(h){if(this.command.relative){var{x:g,y:d}=this.current;h.x+=g,h.y+=d}return h}addMarker(h,g,d){var{points:f,angles:x}=this;d&&x.length>0&&!x[x.length-1]&&(x[x.length-1]=f[f.length-1].angleTo(d)),this.addMarkerAngle(h,g?g.angleTo(h):null)}addMarkerAngle(h,g){this.points.push(h),this.angles.push(g)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:h}=this,g=h.length,d=0;d<g;d++)if(!h[d])for(var f=d+1;f<g;f++)if(h[f]){h[d]=h[f];break}return h}}class yt extends gt{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var h=1,g=this;g;){var d=g.getStyle("opacity",!1,!0);d.hasValue(!0)&&(h*=d.getNumber()),g=g.parent}return h}setContext(h){var g=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!g){var d=this.getStyle("fill"),f=this.getStyle("fill-opacity"),x=this.getStyle("stroke"),b=this.getStyle("stroke-opacity");if(d.isUrlDefinition()){var S=d.getFillStyleDefinition(this,f);S&&(h.fillStyle=S)}else if(d.hasValue()){"currentColor"===d.getString()&&d.setValue(this.getStyle("color").getColor());var w=d.getColor();"inherit"!==w&&(h.fillStyle="none"===w?"rgba(0,0,0,0)":w)}if(f.hasValue()){var A=new q(this.document,"fill",h.fillStyle).addOpacity(f).getColor();h.fillStyle=A}if(x.isUrlDefinition()){var C=x.getFillStyleDefinition(this,b);C&&(h.strokeStyle=C)}else if(x.hasValue()){"currentColor"===x.getString()&&x.setValue(this.getStyle("color").getColor());var P=x.getString();"inherit"!==P&&(h.strokeStyle="none"===P?"rgba(0,0,0,0)":P)}if(b.hasValue()){var E=new q(this.document,"stroke",h.strokeStyle).addOpacity(b).getString();h.strokeStyle=E}var _=this.getStyle("stroke-width");if(_.hasValue()){var M=_.getPixels();h.lineWidth=M||W}var N=this.getStyle("stroke-linecap"),V=this.getStyle("stroke-linejoin"),R=this.getStyle("stroke-miterlimit"),k=this.getStyle("stroke-dasharray"),L=this.getStyle("stroke-dashoffset");if(N.hasValue()&&(h.lineCap=N.getString()),V.hasValue()&&(h.lineJoin=V.getString()),R.hasValue()&&(h.miterLimit=R.getNumber()),k.hasValue()&&"none"!==k.getString()){var D=toNumbers(k.getString());void 0!==h.setLineDash?h.setLineDash(D):void 0!==h.webkitLineDash?h.webkitLineDash=D:void 0===h.mozDash||1===D.length&&0===D[0]||(h.mozDash=D);var B=L.getPixels();void 0!==h.lineDashOffset?h.lineDashOffset=B:void 0!==h.webkitLineDashOffset?h.webkitLineDashOffset=B:void 0!==h.mozDashOffset&&(h.mozDashOffset=B)}}if(this.modifiedEmSizeStack=!1,void 0!==h.font){var z=this.getStyle("font"),F=this.getStyle("font-style"),U=this.getStyle("font-variant"),X=this.getStyle("font-weight"),j=this.getStyle("font-size"),Y=this.getStyle("font-family"),Q=new pt(F.getString(),U.getString(),X.getString(),j.hasValue()?"".concat(j.getPixels(!0),"px"):"",Y.getString(),pt.parse(z.getString(),h.font));F.setValue(Q.fontStyle),U.setValue(Q.fontVariant),X.setValue(Q.fontWeight),j.setValue(Q.fontSize),Y.setValue(Q.fontFamily),h.font=Q.toString(),j.isPixels()&&(this.document.emSize=j.getPixels(),this.modifiedEmSizeStack=!0)}g||(this.applyEffects(h),h.globalAlpha=this.calculateOpacity())}clearContext(h){super.clearContext(h),this.modifiedEmSizeStack&&this.document.popEmSize()}}class vt extends yt{constructor(h,g,d){super(h,g,d),this.type="path",this.pathParser=null,this.pathParser=new mt(this.getAttribute("d").getString())}path(h){var{pathParser:g}=this,d=new ft;for(g.reset(),h&&h.beginPath();!g.isEnd();)switch(g.next().type){case mt.MOVE_TO:this.pathM(h,d);break;case mt.LINE_TO:this.pathL(h,d);break;case mt.HORIZ_LINE_TO:this.pathH(h,d);break;case mt.VERT_LINE_TO:this.pathV(h,d);break;case mt.CURVE_TO:this.pathC(h,d);break;case mt.SMOOTH_CURVE_TO:this.pathS(h,d);break;case mt.QUAD_TO:this.pathQ(h,d);break;case mt.SMOOTH_QUAD_TO:this.pathT(h,d);break;case mt.ARC:this.pathA(h,d);break;case mt.CLOSE_PATH:this.pathZ(h,d)}return d}getBoundingBox(h){return this.path()}getMarkers(){var{pathParser:h}=this,g=h.getMarkerPoints(),d=h.getMarkerAngles(),f=g.map(((h,g)=>[h,d[g]]));return f}renderChildren(h){this.path(h),this.document.screen.mouse.checkPath(this,h);var g=this.getStyle("fill-rule");""!==h.fillStyle&&("inherit"!==g.getString("inherit")?h.fill(g.getString()):h.fill()),""!==h.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(h.save(),h.setTransform(1,0,0,1,0,0),h.stroke(),h.restore()):h.stroke());var d=this.getMarkers();if(d){var f=d.length-1,x=this.getStyle("marker-start"),b=this.getStyle("marker-mid"),S=this.getStyle("marker-end");if(x.isUrlDefinition()){var w=x.getDefinition(),[A,C]=d[0];w.render(h,A,C)}if(b.isUrlDefinition())for(var P=b.getDefinition(),E=1;E<f;E++){var[_,M]=d[E];P.render(h,_,M)}if(S.isUrlDefinition()){var N=S.getDefinition(),[V,R]=d[f];N.render(h,V,R)}}}static pathM(h){var g=h.getAsCurrentPoint();return h.start=h.current,{point:g}}pathM(h,g){var{pathParser:d}=this,{point:f}=vt.pathM(d),{x:x,y:b}=f;d.addMarker(f),g.addPoint(x,b),h&&h.moveTo(x,b)}static pathL(h){var{current:g}=h;return{current:g,point:h.getAsCurrentPoint()}}pathL(h,g){var{pathParser:d}=this,{current:f,point:x}=vt.pathL(d),{x:b,y:S}=x;d.addMarker(x,f),g.addPoint(b,S),h&&h.lineTo(b,S)}static pathH(h){var{current:g,command:d}=h,f=new $((d.relative?g.x:0)+d.x,g.y);return h.current=f,{current:g,point:f}}pathH(h,g){var{pathParser:d}=this,{current:f,point:x}=vt.pathH(d),{x:b,y:S}=x;d.addMarker(x,f),g.addPoint(b,S),h&&h.lineTo(b,S)}static pathV(h){var{current:g,command:d}=h,f=new $(g.x,(d.relative?g.y:0)+d.y);return h.current=f,{current:g,point:f}}pathV(h,g){var{pathParser:d}=this,{current:f,point:x}=vt.pathV(d),{x:b,y:S}=x;d.addMarker(x,f),g.addPoint(b,S),h&&h.lineTo(b,S)}static pathC(h){var{current:g}=h;return{current:g,point:h.getPoint("x1","y1"),controlPoint:h.getAsControlPoint("x2","y2"),currentPoint:h.getAsCurrentPoint()}}pathC(h,g){var{pathParser:d}=this,{current:f,point:x,controlPoint:b,currentPoint:S}=vt.pathC(d);d.addMarker(S,b,x),g.addBezierCurve(f.x,f.y,x.x,x.y,b.x,b.y,S.x,S.y),h&&h.bezierCurveTo(x.x,x.y,b.x,b.y,S.x,S.y)}static pathS(h){var{current:g}=h;return{current:g,point:h.getReflectedControlPoint(),controlPoint:h.getAsControlPoint("x2","y2"),currentPoint:h.getAsCurrentPoint()}}pathS(h,g){var{pathParser:d}=this,{current:f,point:x,controlPoint:b,currentPoint:S}=vt.pathS(d);d.addMarker(S,b,x),g.addBezierCurve(f.x,f.y,x.x,x.y,b.x,b.y,S.x,S.y),h&&h.bezierCurveTo(x.x,x.y,b.x,b.y,S.x,S.y)}static pathQ(h){var{current:g}=h;return{current:g,controlPoint:h.getAsControlPoint("x1","y1"),currentPoint:h.getAsCurrentPoint()}}pathQ(h,g){var{pathParser:d}=this,{current:f,controlPoint:x,currentPoint:b}=vt.pathQ(d);d.addMarker(b,x,x),g.addQuadraticCurve(f.x,f.y,x.x,x.y,b.x,b.y),h&&h.quadraticCurveTo(x.x,x.y,b.x,b.y)}static pathT(h){var{current:g}=h,d=h.getReflectedControlPoint();return h.control=d,{current:g,controlPoint:d,currentPoint:h.getAsCurrentPoint()}}pathT(h,g){var{pathParser:d}=this,{current:f,controlPoint:x,currentPoint:b}=vt.pathT(d);d.addMarker(b,x,x),g.addQuadraticCurve(f.x,f.y,x.x,x.y,b.x,b.y),h&&h.quadraticCurveTo(x.x,x.y,b.x,b.y)}static pathA(h){var{current:g,command:d}=h,{rX:f,rY:x,xRot:b,lArcFlag:S,sweepFlag:w}=d,A=b*(Math.PI/180),C=h.getAsCurrentPoint(),P=new $(Math.cos(A)*(g.x-C.x)/2+Math.sin(A)*(g.y-C.y)/2,-Math.sin(A)*(g.x-C.x)/2+Math.cos(A)*(g.y-C.y)/2),E=Math.pow(P.x,2)/Math.pow(f,2)+Math.pow(P.y,2)/Math.pow(x,2);E>1&&(f*=Math.sqrt(E),x*=Math.sqrt(E));var _=(S===w?-1:1)*Math.sqrt((Math.pow(f,2)*Math.pow(x,2)-Math.pow(f,2)*Math.pow(P.y,2)-Math.pow(x,2)*Math.pow(P.x,2))/(Math.pow(f,2)*Math.pow(P.y,2)+Math.pow(x,2)*Math.pow(P.x,2)));isNaN(_)&&(_=0);var M=new $(_*f*P.y/x,_*-x*P.x/f),N=new $((g.x+C.x)/2+Math.cos(A)*M.x-Math.sin(A)*M.y,(g.y+C.y)/2+Math.sin(A)*M.x+Math.cos(A)*M.y),V=vectorsAngle([1,0],[(P.x-M.x)/f,(P.y-M.y)/x]),R=[(P.x-M.x)/f,(P.y-M.y)/x],k=[(-P.x-M.x)/f,(-P.y-M.y)/x],L=vectorsAngle(R,k);return vectorsRatio(R,k)<=-1&&(L=Math.PI),vectorsRatio(R,k)>=1&&(L=0),{currentPoint:C,rX:f,rY:x,sweepFlag:w,xAxisRotation:A,centp:N,a1:V,ad:L}}pathA(h,g){var{pathParser:d}=this,{currentPoint:f,rX:x,rY:b,sweepFlag:S,xAxisRotation:w,centp:A,a1:C,ad:P}=vt.pathA(d),E=1-S?1:-1,_=C+E*(P/2),M=new $(A.x+x*Math.cos(_),A.y+b*Math.sin(_));if(d.addMarkerAngle(M,_-E*Math.PI/2),d.addMarkerAngle(f,_-E*Math.PI),g.addPoint(f.x,f.y),h&&!isNaN(C)&&!isNaN(P)){var N=x>b?x:b,V=x>b?1:x/b,R=x>b?b/x:1;h.translate(A.x,A.y),h.rotate(w),h.scale(V,R),h.arc(0,0,N,C,C+P,Boolean(1-S)),h.scale(1/V,1/R),h.rotate(-w),h.translate(-A.x,-A.y)}}static pathZ(h){h.current=h.start}pathZ(h,g){vt.pathZ(this.pathParser),h&&g.x1!==g.x2&&g.y1!==g.y2&&h.closePath()}}class xt extends vt{constructor(h,g,d){super(h,g,d),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class bt extends yt{constructor(h,g,d){super(h,g,new.target===bt||d),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(h){var g=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(h,g);var d=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();d&&(h.textBaseline=d)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(h){if("text"!==this.type)return this.getTElementBoundingBox(h);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(h);var g=null;return this.children.forEach(((d,f)=>{var x=this.getChildBoundingBox(h,this,this,f);g?g.addBoundingBox(x):g=x})),g}getFontSize(){var{document:h,parent:g}=this,d=pt.parse(h.ctx.font).fontSize;return g.getStyle("font-size").getNumber(d)}getTElementBoundingBox(h){var g=this.getFontSize();return new ft(this.x,this.y-g,this.x+this.measureText(h),this.y)}getGlyph(h,g,d){var f=g[d],x=null;if(h.isArabic){var b=g.length,S=g[d-1],w=g[d+1],A="isolated";if((0===d||" "===S)&&d<b-1&&" "!==w&&(A="terminal"),d>0&&" "!==S&&d<b-1&&" "!==w&&(A="medial"),d>0&&" "!==S&&(d===b-1||" "===w)&&(A="initial"),void 0!==h.glyphs[f]){var C=h.glyphs[f];x=C instanceof xt?C:C[A]}}else x=h.glyphs[f];return x||(x=h.missingGlyph),x}getText(){return""}getTextFromNode(h){var g=h||this.node,d=Array.from(g.parentNode.childNodes),f=d.indexOf(g),x=d.length-1,b=compressSpaces(g.textContent||"");return 0===f&&(b=trimLeft(b)),f===x&&(b=trimRight(b)),b}renderChildren(h){if("text"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(h),this.children.forEach(((g,d)=>{this.renderChild(h,this,this,d)}));var{mouse:g}=this.document.screen;g.isWorking()&&g.checkBoundingBox(this,this.getBoundingBox(h))}else this.renderTElementChildren(h)}renderTElementChildren(h){var{document:g,parent:d}=this,f=this.getText(),x=d.getStyle("font-family").getDefinition();if(x)for(var{unitsPerEm:b}=x.fontFace,S=pt.parse(g.ctx.font),w=d.getStyle("font-size").getNumber(S.fontSize),A=d.getStyle("font-style").getString(S.fontStyle),C=w/b,P=x.isRTL?f.split("").reverse().join(""):f,E=toNumbers(d.getAttribute("dx").getString()),_=P.length,M=0;M<_;M++){var N=this.getGlyph(x,P,M);h.translate(this.x,this.y),h.scale(C,-C);var V=h.lineWidth;h.lineWidth=h.lineWidth*b/w,"italic"===A&&h.transform(1,0,.4,1,0,0),N.render(h),"italic"===A&&h.transform(1,0,-.4,1,0,0),h.lineWidth=V,h.scale(1/C,-1/C),h.translate(-this.x,-this.y),this.x+=w*(N.horizAdvX||x.horizAdvX)/b,void 0===E[M]||isNaN(E[M])||(this.x+=E[M])}else{var{x:R,y:k}=this;h.fillStyle&&h.fillText(f,R,k),h.strokeStyle&&h.strokeText(f,R,k)}}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var h=this.leafTexts[this.textChunkStart],g=h.getStyle("text-anchor").getString("start"),d=0;d="start"===g?h.x-this.minX:"end"===g?h.x-this.maxX:h.x-(this.minX+this.maxX)/2;for(var f=this.textChunkStart;f<this.leafTexts.length;f++)this.leafTexts[f].x+=d;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(h){this.children.forEach(((g,d)=>{this.adjustChildCoordinatesRecursiveCore(h,this,this,d)})),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(h,g,d,f){var x=d.children[f];x.children.length>0?x.children.forEach(((d,f)=>{g.adjustChildCoordinatesRecursiveCore(h,g,x,f)})):this.adjustChildCoordinates(h,g,d,f)}adjustChildCoordinates(h,g,d,f){var x=d.children[f];if("function"!=typeof x.measureText)return x;h.save(),x.setContext(h,!0);var b=x.getAttribute("x"),S=x.getAttribute("y"),w=x.getAttribute("dx"),A=x.getAttribute("dy"),C=x.getStyle("font-family").getDefinition(),P=Boolean(C)&&C.isRTL;0===f&&(b.hasValue()||b.setValue(x.getInheritedAttribute("x")),S.hasValue()||S.setValue(x.getInheritedAttribute("y")),w.hasValue()||w.setValue(x.getInheritedAttribute("dx")),A.hasValue()||A.setValue(x.getInheritedAttribute("dy")));var E=x.measureText(h);return P&&(g.x-=E),b.hasValue()?(g.applyAnchoring(),x.x=b.getPixels("x"),w.hasValue()&&(x.x+=w.getPixels("x"))):(w.hasValue()&&(g.x+=w.getPixels("x")),x.x=g.x),g.x=x.x,P||(g.x+=E),S.hasValue()?(x.y=S.getPixels("y"),A.hasValue()&&(x.y+=A.getPixels("y"))):(A.hasValue()&&(g.y+=A.getPixels("y")),x.y=g.y),g.y=x.y,g.leafTexts.push(x),g.minX=Math.min(g.minX,x.x,x.x+E),g.maxX=Math.max(g.maxX,x.x,x.x+E),x.clearContext(h),h.restore(),x}getChildBoundingBox(h,g,d,f){var x=d.children[f];if("function"!=typeof x.getBoundingBox)return null;var b=x.getBoundingBox(h);return b?(x.children.forEach(((d,f)=>{var S=g.getChildBoundingBox(h,g,x,f);b.addBoundingBox(S)})),b):null}renderChild(h,g,d,f){var x=d.children[f];x.render(h),x.children.forEach(((d,f)=>{g.renderChild(h,g,x,f)}))}measureText(h){var{measureCache:g}=this;if(~g)return g;var d=this.getText(),f=this.measureTargetText(h,d);return this.measureCache=f,f}measureTargetText(h,g){if(!g.length)return 0;var{parent:d}=this,f=d.getStyle("font-family").getDefinition();if(f){for(var x=this.getFontSize(),b=f.isRTL?g.split("").reverse().join(""):g,S=toNumbers(d.getAttribute("dx").getString()),w=b.length,A=0,C=0;C<w;C++){A+=(this.getGlyph(f,b,C).horizAdvX||f.horizAdvX)*x/f.fontFace.unitsPerEm,void 0===S[C]||isNaN(S[C])||(A+=S[C])}return A}if(!h.measureText)return 10*g.length;h.save(),this.setContext(h,!0);var{width:P}=h.measureText(g);return this.clearContext(h),h.restore(),P}getInheritedAttribute(h){for(var g=this;g instanceof bt&&g.isFirstChild();){var d=g.parent.getAttribute(h);if(d.hasValue(!0))return d.getValue("0");g=g.parent}return null}}class St extends bt{constructor(h,g,d){super(h,g,new.target===St||d),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class wt extends St{constructor(){super(...arguments),this.type="textNode"}}class At extends yt{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(h){var g,{document:d}=this,{screen:f,window:x}=d,b=h.canvas;if(f.setDefaults(h),b.style&&void 0!==h.font&&x&&void 0!==x.getComputedStyle){h.font=x.getComputedStyle(b).getPropertyValue("font");var S=new q(d,"fontSize",pt.parse(h.font).fontSize);S.hasValue()&&(d.rootEmSize=S.getPixels("y"),d.emSize=d.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:w,height:A}=f.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var C=this.getAttribute("refX"),P=this.getAttribute("refY"),E=this.getAttribute("viewBox"),_=E.hasValue()?toNumbers(E.getString()):null,M=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),N=0,V=0,R=0,k=0;_&&(N=_[0],V=_[1]),this.root||(w=this.getStyle("width").getPixels("x"),A=this.getStyle("height").getPixels("y"),"marker"===this.type&&(R=N,k=V,N=0,V=0)),f.viewPort.setCurrent(w,A),!this.node||this.parent&&"foreignObject"!==(null===(g=this.node.parentNode)||void 0===g?void 0:g.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(h),h.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),_&&(w=_[2],A=_[3]),d.setViewBox({ctx:h,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:f.viewPort.width,desiredWidth:w,height:f.viewPort.height,desiredHeight:A,minX:N,minY:V,refX:C.getValue(),refY:P.getValue(),clip:M,clipX:R,clipY:k}),_&&(f.viewPort.removeCurrent(),f.viewPort.setCurrent(w,A))}clearContext(h){super.clearContext(h),this.document.screen.viewPort.removeCurrent()}resize(h){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=this.getAttribute("width",!0),x=this.getAttribute("height",!0),b=this.getAttribute("viewBox"),S=this.getAttribute("style"),w=f.getNumber(0),A=x.getNumber(0);if(d)if("string"==typeof d)this.getAttribute("preserveAspectRatio",!0).setValue(d);else{var C=this.getAttribute("preserveAspectRatio");C.hasValue()&&C.setValue(C.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(f.setValue(h),x.setValue(g),b.hasValue()||b.setValue("0 0 ".concat(w||h," ").concat(A||g)),S.hasValue()){var P=this.getStyle("width"),E=this.getStyle("height");P.hasValue()&&P.setValue("".concat(h,"px")),E.hasValue()&&E.setValue("".concat(g,"px"))}}}class Tt extends vt{constructor(){super(...arguments),this.type="rect"}path(h){var g=this.getAttribute("x").getPixels("x"),d=this.getAttribute("y").getPixels("y"),f=this.getStyle("width",!1,!0).getPixels("x"),x=this.getStyle("height",!1,!0).getPixels("y"),b=this.getAttribute("rx"),S=this.getAttribute("ry"),w=b.getPixels("x"),A=S.getPixels("y");if(b.hasValue()&&!S.hasValue()&&(A=w),S.hasValue()&&!b.hasValue()&&(w=A),w=Math.min(w,f/2),A=Math.min(A,x/2),h){var C=(Math.sqrt(2)-1)/3*4;h.beginPath(),x>0&&f>0&&(h.moveTo(g+w,d),h.lineTo(g+f-w,d),h.bezierCurveTo(g+f-w+C*w,d,g+f,d+A-C*A,g+f,d+A),h.lineTo(g+f,d+x-A),h.bezierCurveTo(g+f,d+x-A+C*A,g+f-w+C*w,d+x,g+f-w,d+x),h.lineTo(g+w,d+x),h.bezierCurveTo(g+w-C*w,d+x,g,d+x-A+C*A,g,d+x-A),h.lineTo(g,d+A),h.bezierCurveTo(g,d+A-C*A,g+w-C*w,d,g+w,d),h.closePath())}return new ft(g,d,g+f,d+x)}getMarkers(){return null}}class Ct extends vt{constructor(){super(...arguments),this.type="circle"}path(h){var g=this.getAttribute("cx").getPixels("x"),d=this.getAttribute("cy").getPixels("y"),f=this.getAttribute("r").getPixels();return h&&f>0&&(h.beginPath(),h.arc(g,d,f,0,2*Math.PI,!1),h.closePath()),new ft(g-f,d-f,g+f,d+f)}getMarkers(){return null}}class Ot extends vt{constructor(){super(...arguments),this.type="ellipse"}path(h){var g=(Math.sqrt(2)-1)/3*4,d=this.getAttribute("rx").getPixels("x"),f=this.getAttribute("ry").getPixels("y"),x=this.getAttribute("cx").getPixels("x"),b=this.getAttribute("cy").getPixels("y");return h&&d>0&&f>0&&(h.beginPath(),h.moveTo(x+d,b),h.bezierCurveTo(x+d,b+g*f,x+g*d,b+f,x,b+f),h.bezierCurveTo(x-g*d,b+f,x-d,b+g*f,x-d,b),h.bezierCurveTo(x-d,b-g*f,x-g*d,b-f,x,b-f),h.bezierCurveTo(x+g*d,b-f,x+d,b-g*f,x+d,b),h.closePath()),new ft(x-d,b-f,x+d,b+f)}getMarkers(){return null}}class Pt extends vt{constructor(){super(...arguments),this.type="line"}getPoints(){return[new $(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new $(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(h){var[{x:g,y:d},{x:f,y:x}]=this.getPoints();return h&&(h.beginPath(),h.moveTo(g,d),h.lineTo(f,x)),new ft(g,d,f,x)}getMarkers(){var[h,g]=this.getPoints(),d=h.angleTo(g);return[[h,d],[g,d]]}}class Et extends vt{constructor(h,g,d){super(h,g,d),this.type="polyline",this.points=[],this.points=$.parsePath(this.getAttribute("points").getString())}path(h){var{points:g}=this,[{x:d,y:f}]=g,x=new ft(d,f);return h&&(h.beginPath(),h.moveTo(d,f)),g.forEach((g=>{var{x:d,y:f}=g;x.addPoint(d,f),h&&h.lineTo(d,f)})),x}getMarkers(){var{points:h}=this,g=h.length-1,d=[];return h.forEach(((f,x)=>{x!==g&&d.push([f,f.angleTo(h[x+1])])})),d.length>0&&d.push([h[h.length-1],d[d.length-1][1]]),d}}class _t extends Et{constructor(){super(...arguments),this.type="polygon"}path(h){var g=super.path(h),[{x:d,y:f}]=this.points;return h&&(h.lineTo(d,f),h.closePath()),g}}class Mt extends gt{constructor(){super(...arguments),this.type="pattern"}createPattern(h,g,d){var f=this.getStyle("width").getPixels("x",!0),x=this.getStyle("height").getPixels("y",!0),b=new At(this.document,null);b.attributes.viewBox=new q(this.document,"viewBox",this.getAttribute("viewBox").getValue()),b.attributes.width=new q(this.document,"width","".concat(f,"px")),b.attributes.height=new q(this.document,"height","".concat(x,"px")),b.attributes.transform=new q(this.document,"transform",this.getAttribute("patternTransform").getValue()),b.children=this.children;var S=this.document.createCanvas(f,x),w=S.getContext("2d"),A=this.getAttribute("x"),C=this.getAttribute("y");A.hasValue()&&C.hasValue()&&w.translate(A.getPixels("x",!0),C.getPixels("y",!0)),d.hasValue()?this.styles["fill-opacity"]=d:Reflect.deleteProperty(this.styles,"fill-opacity");for(var P=-1;P<=1;P++)for(var E=-1;E<=1;E++)w.save(),b.attributes.x=new q(this.document,"x",P*S.width),b.attributes.y=new q(this.document,"y",E*S.height),b.render(w),w.restore();return h.createPattern(S,"repeat")}}class Nt extends gt{constructor(){super(...arguments),this.type="marker"}render(h,g,d){if(g){var{x:f,y:x}=g,b=this.getAttribute("orient").getString("auto"),S=this.getAttribute("markerUnits").getString("strokeWidth");h.translate(f,x),"auto"===b&&h.rotate(d),"strokeWidth"===S&&h.scale(h.lineWidth,h.lineWidth),h.save();var w=new At(this.document,null);w.type=this.type,w.attributes.viewBox=new q(this.document,"viewBox",this.getAttribute("viewBox").getValue()),w.attributes.refX=new q(this.document,"refX",this.getAttribute("refX").getValue()),w.attributes.refY=new q(this.document,"refY",this.getAttribute("refY").getValue()),w.attributes.width=new q(this.document,"width",this.getAttribute("markerWidth").getValue()),w.attributes.height=new q(this.document,"height",this.getAttribute("markerHeight").getValue()),w.attributes.overflow=new q(this.document,"overflow",this.getAttribute("overflow").getValue()),w.attributes.fill=new q(this.document,"fill",this.getAttribute("fill").getColor("black")),w.attributes.stroke=new q(this.document,"stroke",this.getAttribute("stroke").getValue("none")),w.children=this.children,w.render(h),h.restore(),"strokeWidth"===S&&h.scale(1/h.lineWidth,1/h.lineWidth),"auto"===b&&h.rotate(-d),h.translate(-f,-x)}}}class Vt extends gt{constructor(){super(...arguments),this.type="defs"}render(){}}class Rt extends yt{constructor(){super(...arguments),this.type="g"}getBoundingBox(h){var g=new ft;return this.children.forEach((d=>{g.addBoundingBox(d.getBoundingBox(h))})),g}}class kt extends gt{constructor(h,g,d){super(h,g,d),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:f,children:x}=this;x.forEach((h=>{"stop"===h.type&&f.push(h)}))}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(h,g,d){var f=this;this.getHrefAttribute().hasValue()&&(f=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(f));var{stops:x}=f,b=this.getGradient(h,g);if(!b)return this.addParentOpacity(d,x[x.length-1].color);if(x.forEach((h=>{b.addColorStop(h.offset,this.addParentOpacity(d,h.color))})),this.getAttribute("gradientTransform").hasValue()){var{document:S}=this,{MAX_VIRTUAL_PIXELS:w,viewPort:A}=S.screen,[C]=A.viewPorts,P=new Tt(S,null);P.attributes.x=new q(S,"x",-w/3),P.attributes.y=new q(S,"y",-w/3),P.attributes.width=new q(S,"width",w),P.attributes.height=new q(S,"height",w);var E=new Rt(S,null);E.attributes.transform=new q(S,"transform",this.getAttribute("gradientTransform").getValue()),E.children=[P];var _=new At(S,null);_.attributes.x=new q(S,"x",0),_.attributes.y=new q(S,"y",0),_.attributes.width=new q(S,"width",C.width),_.attributes.height=new q(S,"height",C.height),_.children=[E];var M=S.createCanvas(C.width,C.height),N=M.getContext("2d");return N.fillStyle=b,_.render(N),N.createPattern(M,"no-repeat")}return b}inheritStopContainer(h){this.attributesToInherit.forEach((g=>{!this.getAttribute(g).hasValue()&&h.getAttribute(g).hasValue()&&this.getAttribute(g,!0).setValue(h.getAttribute(g).getValue())}))}addParentOpacity(h,g){return h.hasValue()?new q(this.document,"color",g).addOpacity(h).getColor():g}}class It extends kt{constructor(h,g,d){super(h,g,d),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(h,g){var d="objectBoundingBox"===this.getGradientUnits(),f=d?g.getBoundingBox(h):null;if(d&&!f)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var x=d?f.x+f.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),b=d?f.y+f.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),S=d?f.x+f.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),w=d?f.y+f.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return x===S&&b===w?null:h.createLinearGradient(x,b,S,w)}}class Lt extends kt{constructor(h,g,d){super(h,g,d),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(h,g){var d="objectBoundingBox"===this.getGradientUnits(),f=g.getBoundingBox(h);if(d&&!f)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var x=d?f.x+f.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),b=d?f.y+f.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),S=x,w=b;this.getAttribute("fx").hasValue()&&(S=d?f.x+f.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(w=d?f.y+f.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var A=d?(f.width+f.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),C=this.getAttribute("fr").getPixels();return h.createRadialGradient(S,w,C,x,b,A)}}class Dt extends gt{constructor(h,g,d){super(h,g,d),this.type="stop";var f=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),x=this.getStyle("stop-opacity"),b=this.getStyle("stop-color",!0);""===b.getString()&&b.setValue("#000"),x.hasValue()&&(b=b.addOpacity(x)),this.offset=f,this.color=b.getColor()}}class Bt extends gt{constructor(h,g,d){super(h,g,d),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,h.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new q(h,"values",null);var f=this.getAttribute("values");f.hasValue()&&this.values.setValue(f.getString().split(";"))}getProperty(){var h=this.getAttribute("attributeType").getString(),g=this.getAttribute("attributeName").getString();return"CSS"===h?this.parent.getStyle(g,!0):this.parent.getAttribute(g,!0)}calcValue(){var{initialUnits:h}=this,{progress:g,from:d,to:f}=this.getProgress(),x=d.getNumber()+(f.getNumber()-d.getNumber())*g;return"%"===h&&(x*=100),"".concat(x).concat(h)}update(h){var{parent:g}=this,d=this.getProperty();if(this.initialValue||(this.initialValue=d.getString(),this.initialUnits=d.getUnits()),this.duration>this.maxDuration){var f=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==f||this.frozen){if("remove"===f&&!this.removed)return this.removed=!0,d.setValue(g.animationFrozen?g.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,g.animationFrozen=!0,g.animationFrozenValue=d.getString();return!1}this.duration+=h;var x=!1;if(this.begin<this.duration){var b=this.calcValue(),S=this.getAttribute("type");if(S.hasValue()){var w=S.getString();b="".concat(w,"(").concat(b,")")}d.setValue(b),x=!0}return x}getProgress(){var{document:h,values:g}=this,d={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(g.hasValue()){var f=d.progress*(g.getValue().length-1),x=Math.floor(f),b=Math.ceil(f);d.from=new q(h,"from",parseFloat(g.getValue()[x])),d.to=new q(h,"to",parseFloat(g.getValue()[b])),d.progress=(f-x)/(b-x)}else d.from=this.from,d.to=this.to;return d}}class zt extends Bt{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:h,from:g,to:d}=this.getProgress(),f=new S(g.getColor()),x=new S(d.getColor());if(f.ok&&x.ok){var b=f.r+(x.r-f.r)*h,w=f.g+(x.g-f.g)*h,A=f.b+(x.b-f.b)*h;return"rgb(".concat(Math.floor(b),", ").concat(Math.floor(w),", ").concat(Math.floor(A),")")}return this.getAttribute("from").getColor()}}class Ft extends Bt{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:h,from:g,to:d}=this.getProgress(),f=toNumbers(g.getString()),x=toNumbers(d.getString()),b=f.map(((g,d)=>g+(x[d]-g)*h)).join(" ");return b}}class Ut extends gt{constructor(h,g,d){super(h,g,d),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:f}=h,{children:x}=this;for(var b of x)switch(b.type){case"font-face":this.fontFace=b;var S=b.getStyle("font-family");S.hasValue()&&(f[S.getString()]=this);break;case"missing-glyph":this.missingGlyph=b;break;case"glyph":var w=b;w.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[w.unicode]&&(this.glyphs[w.unicode]={}),this.glyphs[w.unicode][w.arabicForm]=w):this.glyphs[w.unicode]=w}}render(){}}class Ht extends gt{constructor(h,g,d){super(h,g,d),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Xt extends vt{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class jt extends bt{constructor(){super(...arguments),this.type="tref"}getText(){var h=this.getHrefAttribute().getDefinition();if(h){var g=h.children[0];if(g)return g.getText()}return""}}class Yt extends bt{constructor(h,g,d){super(h,g,d),this.type="a";var{childNodes:f}=g,x=f[0],b=f.length>0&&Array.from(f).every((h=>3===h.nodeType));this.hasText=b,this.text=b?this.getTextFromNode(x):""}getText(){return this.text}renderChildren(h){if(this.hasText){super.renderChildren(h);var{document:g,x:d,y:f}=this,{mouse:x}=g.screen,b=new q(g,"fontSize",pt.parse(g.ctx.font).fontSize);x.isWorking()&&x.checkBoundingBox(this,new ft(d,f-b.getPixels("y"),d+this.measureText(h),f))}else if(this.children.length>0){var S=new Rt(this.document,null);S.children=this.children,S.parent=this,S.render(h)}}onClick(){var{window:h}=this.document;h&&h.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}function ownKeys$2(h,g){var d=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);g&&(f=f.filter((function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable}))),d.push.apply(d,f)}return d}function _objectSpread$2(h){for(var g=1;g<arguments.length;g++){var d=null!=arguments[g]?arguments[g]:{};g%2?ownKeys$2(Object(d),!0).forEach((function(g){(0,x.Z)(h,g,d[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(d)):ownKeys$2(Object(d)).forEach((function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(d,g))}))}return h}class Qt extends bt{constructor(h,g,d){super(h,g,d),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var f=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(f)}getText(){return this.text}path(h){var{dataArray:g}=this;h&&h.beginPath(),g.forEach((g=>{var{type:d,points:f}=g;switch(d){case mt.LINE_TO:h&&h.lineTo(f[0],f[1]);break;case mt.MOVE_TO:h&&h.moveTo(f[0],f[1]);break;case mt.CURVE_TO:h&&h.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5]);break;case mt.QUAD_TO:h&&h.quadraticCurveTo(f[0],f[1],f[2],f[3]);break;case mt.ARC:var[x,b,S,w,A,C,P,E]=f,_=S>w?S:w,M=S>w?1:S/w,N=S>w?w/S:1;h&&(h.translate(x,b),h.rotate(P),h.scale(M,N),h.arc(0,0,_,A,A+C,Boolean(1-E)),h.scale(1/M,1/N),h.rotate(-P),h.translate(-x,-b));break;case mt.CLOSE_PATH:h&&h.closePath()}}))}renderChildren(h){this.setTextData(h),h.save();var g=this.parent.getStyle("text-decoration").getString(),d=this.getFontSize(),{glyphInfo:f}=this,x=h.fillStyle;"underline"===g&&h.beginPath(),f.forEach(((f,x)=>{var{p0:b,p1:S,rotation:w,text:A}=f;h.save(),h.translate(b.x,b.y),h.rotate(w),h.fillStyle&&h.fillText(A,0,0),h.strokeStyle&&h.strokeText(A,0,0),h.restore(),"underline"===g&&(0===x&&h.moveTo(b.x,b.y+d/8),h.lineTo(S.x,S.y+d/5))})),"underline"===g&&(h.lineWidth=d/20,h.strokeStyle=x,h.stroke(),h.closePath()),h.restore()}getLetterSpacingAt(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[h]||0}findSegmentToFitChar(h,g,d,f,x,b,S,w,A){var C=b,P=this.measureText(h,w);" "===w&&"justify"===g&&d<f&&(P+=(f-d)/x),A>-1&&(C+=this.getLetterSpacingAt(A));var E=this.textHeight/20,_=this.getEquidistantPointOnPath(C,E,0),M=this.getEquidistantPointOnPath(C+P,E,0),N={p0:_,p1:M},V=_&&M?Math.atan2(M.y-_.y,M.x-_.x):0;if(S){var R=Math.cos(Math.PI/2+V)*S,k=Math.cos(-V)*S;N.p0=_objectSpread$2(_objectSpread$2({},_),{},{x:_.x+R,y:_.y+k}),N.p1=_objectSpread$2(_objectSpread$2({},M),{},{x:M.x+R,y:M.y+k})}return{offset:C+=P,segment:N,rotation:V}}measureText(h,g){var{measuresCache:d}=this,f=g||this.getText();if(d.has(f))return d.get(f);var x=this.measureTargetText(h,f);return d.set(f,x),x}setTextData(h){if(!this.glyphInfo){var g=this.getText(),d=g.split(""),f=g.split(" ").length-1,x=this.parent.getAttribute("dx").split().map((h=>h.getPixels("x"))),b=this.parent.getAttribute("dy").getPixels("y"),S=this.parent.getStyle("text-anchor").getString("start"),w=this.getStyle("letter-spacing"),A=this.parent.getStyle("letter-spacing"),C=0;w.hasValue()&&"inherit"!==w.getValue()?w.hasValue()&&"initial"!==w.getValue()&&"unset"!==w.getValue()&&(C=w.getPixels()):C=A.getPixels();var P=[],E=g.length;this.letterSpacingCache=P;for(var _=0;_<E;_++)P.push(void 0!==x[_]?x[_]:C);var M=P.reduce(((h,g,d)=>0===d?0:h+g||0),0),N=this.measureText(h),V=Math.max(N+M,0);this.textWidth=N,this.textHeight=this.getFontSize(),this.glyphInfo=[];var R=this.getPathLength(),k=this.getStyle("startOffset").getNumber(0)*R,L=0;"middle"!==S&&"center"!==S||(L=-V/2),"end"!==S&&"right"!==S||(L=-V),L+=k,d.forEach(((g,x)=>{var{offset:w,segment:A,rotation:C}=this.findSegmentToFitChar(h,S,V,R,f,L,b,g,x);L=w,A.p0&&A.p1&&this.glyphInfo.push({text:d[x],p0:A.p0,p1:A.p1,rotation:C})}))}}parsePathData(h){if(this.pathLength=-1,!h)return[];var g=[],{pathParser:d}=h;for(d.reset();!d.isEnd();){var{current:f}=d,x=f?f.x:0,b=f?f.y:0,S=d.next(),w=S.type,A=[];switch(S.type){case mt.MOVE_TO:this.pathM(d,A);break;case mt.LINE_TO:w=this.pathL(d,A);break;case mt.HORIZ_LINE_TO:w=this.pathH(d,A);break;case mt.VERT_LINE_TO:w=this.pathV(d,A);break;case mt.CURVE_TO:this.pathC(d,A);break;case mt.SMOOTH_CURVE_TO:w=this.pathS(d,A);break;case mt.QUAD_TO:this.pathQ(d,A);break;case mt.SMOOTH_QUAD_TO:w=this.pathT(d,A);break;case mt.ARC:A=this.pathA(d);break;case mt.CLOSE_PATH:vt.pathZ(d)}S.type!==mt.CLOSE_PATH?g.push({type:w,points:A,start:{x:x,y:b},pathLength:this.calcLength(x,b,w,A)}):g.push({type:mt.CLOSE_PATH,points:[],pathLength:0})}return g}pathM(h,g){var{x:d,y:f}=vt.pathM(h).point;g.push(d,f)}pathL(h,g){var{x:d,y:f}=vt.pathL(h).point;return g.push(d,f),mt.LINE_TO}pathH(h,g){var{x:d,y:f}=vt.pathH(h).point;return g.push(d,f),mt.LINE_TO}pathV(h,g){var{x:d,y:f}=vt.pathV(h).point;return g.push(d,f),mt.LINE_TO}pathC(h,g){var{point:d,controlPoint:f,currentPoint:x}=vt.pathC(h);g.push(d.x,d.y,f.x,f.y,x.x,x.y)}pathS(h,g){var{point:d,controlPoint:f,currentPoint:x}=vt.pathS(h);return g.push(d.x,d.y,f.x,f.y,x.x,x.y),mt.CURVE_TO}pathQ(h,g){var{controlPoint:d,currentPoint:f}=vt.pathQ(h);g.push(d.x,d.y,f.x,f.y)}pathT(h,g){var{controlPoint:d,currentPoint:f}=vt.pathT(h);return g.push(d.x,d.y,f.x,f.y),mt.QUAD_TO}pathA(h){var{rX:g,rY:d,sweepFlag:f,xAxisRotation:x,centp:b,a1:S,ad:w}=vt.pathA(h);return 0===f&&w>0&&(w-=2*Math.PI),1===f&&w<0&&(w+=2*Math.PI),[b.x,b.y,g,d,S,w,x,f]}calcLength(h,g,d,f){var x=0,b=null,S=null,w=0;switch(d){case mt.LINE_TO:return this.getLineLength(h,g,f[0],f[1]);case mt.CURVE_TO:for(x=0,b=this.getPointOnCubicBezier(0,h,g,f[0],f[1],f[2],f[3],f[4],f[5]),w=.01;w<=1;w+=.01)S=this.getPointOnCubicBezier(w,h,g,f[0],f[1],f[2],f[3],f[4],f[5]),x+=this.getLineLength(b.x,b.y,S.x,S.y),b=S;return x;case mt.QUAD_TO:for(x=0,b=this.getPointOnQuadraticBezier(0,h,g,f[0],f[1],f[2],f[3]),w=.01;w<=1;w+=.01)S=this.getPointOnQuadraticBezier(w,h,g,f[0],f[1],f[2],f[3]),x+=this.getLineLength(b.x,b.y,S.x,S.y),b=S;return x;case mt.ARC:x=0;var A=f[4],C=f[5],P=f[4]+C,E=Math.PI/180;if(Math.abs(A-P)<E&&(E=Math.abs(A-P)),b=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],A,0),C<0)for(w=A-E;w>P;w-=E)S=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],w,0),x+=this.getLineLength(b.x,b.y,S.x,S.y),b=S;else for(w=A+E;w<P;w+=E)S=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],w,0),x+=this.getLineLength(b.x,b.y,S.x,S.y),b=S;return S=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],P,0),x+=this.getLineLength(b.x,b.y,S.x,S.y)}return 0}getPointOnLine(h,g,d,f,x){var b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:g,S=arguments.length>6&&void 0!==arguments[6]?arguments[6]:d,w=(x-d)/(f-g+W),A=Math.sqrt(h*h/(1+w*w));f<g&&(A*=-1);var C=w*A,P=null;if(f===g)P={x:b,y:S+C};else if((S-d)/(b-g+W)===w)P={x:b+A,y:S+C};else{var E,_,M=this.getLineLength(g,d,f,x);if(M<W)return null;var N=(b-g)*(f-g)+(S-d)*(x-d);E=g+(N/=M*M)*(f-g),_=d+N*(x-d);var V=this.getLineLength(b,S,E,_),R=Math.sqrt(h*h-V*V);A=Math.sqrt(R*R/(1+w*w)),f<g&&(A*=-1),P={x:E+A,y:_+(C=w*A)}}return P}getPointOnPath(h){var g=this.getPathLength(),d=0,f=null;if(h<-5e-5||h-5e-5>g)return null;var{dataArray:x}=this;for(var b of x){if(!b||!(b.pathLength<5e-5||d+b.pathLength+5e-5<h)){var S=h-d,w=0;switch(b.type){case mt.LINE_TO:f=this.getPointOnLine(S,b.start.x,b.start.y,b.points[0],b.points[1],b.start.x,b.start.y);break;case mt.ARC:var A=b.points[4],C=b.points[5],P=b.points[4]+C;if(w=A+S/b.pathLength*C,C<0&&w<P||C>=0&&w>P)break;f=this.getPointOnEllipticalArc(b.points[0],b.points[1],b.points[2],b.points[3],w,b.points[6]);break;case mt.CURVE_TO:(w=S/b.pathLength)>1&&(w=1),f=this.getPointOnCubicBezier(w,b.start.x,b.start.y,b.points[0],b.points[1],b.points[2],b.points[3],b.points[4],b.points[5]);break;case mt.QUAD_TO:(w=S/b.pathLength)>1&&(w=1),f=this.getPointOnQuadraticBezier(w,b.start.x,b.start.y,b.points[0],b.points[1],b.points[2],b.points[3])}if(f)return f;break}d+=b.pathLength}return null}getLineLength(h,g,d,f){return Math.sqrt((d-h)*(d-h)+(f-g)*(f-g))}getPathLength(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce(((h,g)=>g.pathLength>0?h+g.pathLength:h),0)),this.pathLength}getPointOnCubicBezier(h,g,d,f,x,b,S,w,A){return{x:w*CB1(h)+b*CB2(h)+f*CB3(h)+g*CB4(h),y:A*CB1(h)+S*CB2(h)+x*CB3(h)+d*CB4(h)}}getPointOnQuadraticBezier(h,g,d,f,x,b,S){return{x:b*QB1(h)+f*QB2(h)+g*QB3(h),y:S*QB1(h)+x*QB2(h)+d*QB3(h)}}getPointOnEllipticalArc(h,g,d,f,x,b){var S=Math.cos(b),w=Math.sin(b),A=d*Math.cos(x),C=f*Math.sin(x);return{x:h+(A*S-C*w),y:g+(A*w+C*S)}}buildEquidistantCache(h,g){var d=this.getPathLength(),f=g||.25,x=h||d/100;if(!this.equidistantCache||this.equidistantCache.step!==x||this.equidistantCache.precision!==f){this.equidistantCache={step:x,precision:f,points:[]};for(var b=0,S=0;S<=d;S+=f){var w=this.getPointOnPath(S),A=this.getPointOnPath(S+f);w&&A&&((b+=this.getLineLength(w.x,w.y,A.x,A.y))>=x&&(this.equidistantCache.points.push({x:w.x,y:w.y,distance:S}),b-=x))}}}getEquidistantPointOnPath(h,g,d){if(this.buildEquidistantCache(g,d),h<0||h-this.getPathLength()>5e-5)return null;var f=Math.round(h/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[f]||null}}var Wt=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class qt extends yt{constructor(h,g,d){super(h,g,d),this.type="image",this.loaded=!1;var f=this.getHrefAttribute().getString();if(f){var x=f.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(f);h.images.push(this),x?this.loadSvg(f):this.loadImage(f),this.isSvg=x}}loadImage(h){var g=this;return(0,f.Z)((function*(){try{var d=yield g.document.createImage(h);g.image=d}catch(g){console.error('Error while loading image "'.concat(h,'":'),g)}g.loaded=!0}))()}loadSvg(h){var g=this;return(0,f.Z)((function*(){var d=Wt.exec(h);if(d){var f=d[5];"base64"===d[4]?g.image=atob(f):g.image=decodeURIComponent(f)}else try{var x=yield g.document.fetch(h),b=yield x.text();g.image=b}catch(g){console.error('Error while loading image "'.concat(h,'":'),g)}g.loaded=!0}))()}renderChildren(h){var{document:g,image:d,loaded:f}=this,x=this.getAttribute("x").getPixels("x"),b=this.getAttribute("y").getPixels("y"),S=this.getStyle("width").getPixels("x"),w=this.getStyle("height").getPixels("y");if(f&&d&&S&&w){if(h.save(),h.translate(x,b),this.isSvg){var A=g.canvg.forkString(h,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:S,scaleHeight:w});A.document.documentElement.parent=this,A.render()}else{var C=this.image;g.setViewBox({ctx:h,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:S,desiredWidth:C.width,height:w,desiredHeight:C.height}),this.loaded&&(void 0===C.complete||C.complete)&&h.drawImage(C,0,0)}h.restore()}}getBoundingBox(){var h=this.getAttribute("x").getPixels("x"),g=this.getAttribute("y").getPixels("y"),d=this.getStyle("width").getPixels("x"),f=this.getStyle("height").getPixels("y");return new ft(h,g,h+d,g+f)}}class Gt extends yt{constructor(){super(...arguments),this.type="symbol"}render(h){}}class $t{constructor(h){this.document=h,this.loaded=!1,h.fonts.push(this)}load(h,g){var d=this;return(0,f.Z)((function*(){try{var{document:f}=d,x=(yield f.canvg.parser.load(g)).getElementsByTagName("font");Array.from(x).forEach((g=>{var d=f.createElement(g);f.definitions[h]=d}))}catch(h){console.error('Error while loading font "'.concat(g,'":'),h)}d.loaded=!0}))()}}class Zt extends gt{constructor(h,g,d){super(h,g,d),this.type="style";var f=compressSpaces(Array.from(g.childNodes).map((h=>h.textContent)).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,""));f.split("}").forEach((g=>{var d=g.trim();if(d){var f=d.split("{"),x=f[0].split(","),b=f[1].split(";");x.forEach((g=>{var d=g.trim();if(d){var f=h.styles[d]||{};if(b.forEach((g=>{var d=g.indexOf(":"),x=g.substr(0,d).trim(),b=g.substr(d+1,g.length-d).trim();x&&b&&(f[x]=new q(h,x,b))})),h.styles[d]=f,h.stylesSpecificity[d]=getSelectorSpecificity(d),"@font-face"===d){var x=f["font-family"].getString().replace(/"|'/g,"");f.src.getString().split(",").forEach((g=>{if(g.indexOf('format("svg")')>0){var d=parseExternalUrl(g);d&&new $t(h).load(x,d)}}))}}}))}}))}}Zt.parseExternalUrl=parseExternalUrl;class Kt extends yt{constructor(){super(...arguments),this.type="use"}setContext(h){super.setContext(h);var g=this.getAttribute("x"),d=this.getAttribute("y");g.hasValue()&&h.translate(g.getPixels("x"),0),d.hasValue()&&h.translate(0,d.getPixels("y"))}path(h){var{element:g}=this;g&&g.path(h)}renderChildren(h){var{document:g,element:d}=this;if(d){var f=d;if("symbol"===d.type&&((f=new At(g,null)).attributes.viewBox=new q(g,"viewBox",d.getAttribute("viewBox").getString()),f.attributes.preserveAspectRatio=new q(g,"preserveAspectRatio",d.getAttribute("preserveAspectRatio").getString()),f.attributes.overflow=new q(g,"overflow",d.getAttribute("overflow").getString()),f.children=d.children,d.styles.opacity=new q(g,"opacity",this.calculateOpacity())),"svg"===f.type){var x=this.getStyle("width",!1,!0),b=this.getStyle("height",!1,!0);x.hasValue()&&(f.attributes.width=new q(g,"width",x.getString())),b.hasValue()&&(f.attributes.height=new q(g,"height",b.getString()))}var S=f.parent;f.parent=this,f.render(h),f.parent=S}}getBoundingBox(h){var{element:g}=this;return g?g.getBoundingBox(h):null}elementTransform(){var{document:h,element:g}=this;return ct.fromElement(h,g)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function imGet(h,g,d,f,x,b){return h[d*f*4+4*g+b]}function imSet(h,g,d,f,x,b,S){h[d*f*4+4*g+b]=S}function index_es_m(h,g,d){return h[g]*d}function index_es_c(h,g,d,f){return g+Math.cos(h)*d+Math.sin(h)*f}class Jt extends gt{constructor(h,g,d){super(h,g,d),this.type="feColorMatrix";var f=toNumbers(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var x=f[0];f=[.213+.787*x,.715-.715*x,.072-.072*x,0,0,.213-.213*x,.715+.285*x,.072-.072*x,0,0,.213-.213*x,.715-.715*x,.072+.928*x,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var b=f[0]*Math.PI/180;f=[index_es_c(b,.213,.787,-.213),index_es_c(b,.715,-.715,-.715),index_es_c(b,.072,-.072,.928),0,0,index_es_c(b,.213,-.213,.143),index_es_c(b,.715,.285,.14),index_es_c(b,.072,-.072,-.283),0,0,index_es_c(b,.213,-.213,-.787),index_es_c(b,.715,-.715,.715),index_es_c(b,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=f,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(h,g,d,f,x){for(var{includeOpacity:b,matrix:S}=this,w=h.getImageData(0,0,f,x),A=0;A<x;A++)for(var C=0;C<f;C++){var P=imGet(w.data,C,A,f,0,0),E=imGet(w.data,C,A,f,0,1),_=imGet(w.data,C,A,f,0,2),M=imGet(w.data,C,A,f,0,3),N=index_es_m(S,0,P)+index_es_m(S,1,E)+index_es_m(S,2,_)+index_es_m(S,3,M)+index_es_m(S,4,1),V=index_es_m(S,5,P)+index_es_m(S,6,E)+index_es_m(S,7,_)+index_es_m(S,8,M)+index_es_m(S,9,1),R=index_es_m(S,10,P)+index_es_m(S,11,E)+index_es_m(S,12,_)+index_es_m(S,13,M)+index_es_m(S,14,1),k=index_es_m(S,15,P)+index_es_m(S,16,E)+index_es_m(S,17,_)+index_es_m(S,18,M)+index_es_m(S,19,1);b&&(N=0,V=0,R=0,k*=M/255),imSet(w.data,C,A,f,0,0,N),imSet(w.data,C,A,f,0,1,V),imSet(w.data,C,A,f,0,2,R),imSet(w.data,C,A,f,0,3,k)}h.clearRect(0,0,f,x),h.putImageData(w,0,0)}}class te extends gt{constructor(){super(...arguments),this.type="mask"}apply(h,g){var{document:d}=this,f=this.getAttribute("x").getPixels("x"),x=this.getAttribute("y").getPixels("y"),b=this.getStyle("width").getPixels("x"),S=this.getStyle("height").getPixels("y");if(!b&&!S){var w=new ft;this.children.forEach((g=>{w.addBoundingBox(g.getBoundingBox(h))})),f=Math.floor(w.x1),x=Math.floor(w.y1),b=Math.floor(w.width),S=Math.floor(w.height)}var A=this.removeStyles(g,te.ignoreStyles),C=d.createCanvas(f+b,x+S),P=C.getContext("2d");d.screen.setDefaults(P),this.renderChildren(P),new Jt(d,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(P,0,0,f+b,x+S);var E=d.createCanvas(f+b,x+S),_=E.getContext("2d");d.screen.setDefaults(_),g.render(_),_.globalCompositeOperation="destination-in",_.fillStyle=P.createPattern(C,"no-repeat"),_.fillRect(0,0,f+b,x+S),h.fillStyle=_.createPattern(E,"no-repeat"),h.fillRect(0,0,f+b,x+S),this.restoreStyles(g,A)}render(h){}}te.ignoreStyles=["mask","transform","clip-path"];var noop=()=>{};class ee extends gt{constructor(){super(...arguments),this.type="clipPath"}apply(h){var{document:g}=this,d=Reflect.getPrototypeOf(h),{beginPath:f,closePath:x}=h;d&&(d.beginPath=noop,d.closePath=noop),Reflect.apply(f,h,[]),this.children.forEach((f=>{if(void 0!==f.path){var b=void 0!==f.elementTransform?f.elementTransform():null;b||(b=ct.fromElement(g,f)),b&&b.apply(h),f.path(h),d&&(d.closePath=x),b&&b.unapply(h)}})),Reflect.apply(x,h,[]),h.clip(),d&&(d.beginPath=f,d.closePath=x)}render(h){}}class re extends gt{constructor(){super(...arguments),this.type="filter"}apply(h,g){var{document:d,children:f}=this,x=g.getBoundingBox(h);if(x){var b=0,S=0;f.forEach((h=>{var g=h.extraFilterDistance||0;b=Math.max(b,g),S=Math.max(S,g)}));var w=Math.floor(x.width),A=Math.floor(x.height),C=w+2*b,P=A+2*S;if(!(C<1||P<1)){var E=Math.floor(x.x),_=Math.floor(x.y),M=this.removeStyles(g,re.ignoreStyles),N=d.createCanvas(C,P),V=N.getContext("2d");d.screen.setDefaults(V),V.translate(-E+b,-_+S),g.render(V),f.forEach((h=>{"function"==typeof h.apply&&h.apply(V,0,0,C,P)})),h.drawImage(N,0,0,C,P,E-b,_-S,C,P),this.restoreStyles(g,M)}}}render(h){}}re.ignoreStyles=["filter","transform","clip-path"];class ie extends gt{constructor(h,g,d){super(h,g,d),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(h,g,d,f,x){}}class ne extends gt{constructor(){super(...arguments),this.type="feMorphology"}apply(h,g,d,f,x){}}class ae extends gt{constructor(){super(...arguments),this.type="feComposite"}apply(h,g,d,f,x){}}class se extends gt{constructor(h,g,d){super(h,g,d),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(h,g,d,f,x){var{document:b,blurRadius:S}=this,w=b.window?b.window.document.body:null,A=h.canvas;A.id=b.getUniqueId(),w&&(A.style.display="none",w.appendChild(A)),processCanvasRGBA(A,g,d,f,x,S),w&&w.removeChild(A)}}class oe extends gt{constructor(){super(...arguments),this.type="title"}}class he extends gt{constructor(){super(...arguments),this.type="desc"}}var le={svg:At,rect:Tt,circle:Ct,ellipse:Ot,line:Pt,polyline:Et,polygon:_t,path:vt,pattern:Mt,marker:Nt,defs:Vt,linearGradient:It,radialGradient:Lt,stop:Dt,animate:Bt,animateColor:zt,animateTransform:Ft,font:Ut,"font-face":Ht,"missing-glyph":Xt,glyph:xt,text:bt,tspan:St,tref:jt,a:Yt,textPath:Qt,image:qt,g:Rt,symbol:Gt,style:Zt,use:Kt,mask:te,clipPath:ee,filter:re,feDropShadow:ie,feMorphology:ne,feComposite:ae,feColorMatrix:Jt,feGaussianBlur:se,title:oe,desc:he};function ownKeys$1(h,g){var d=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);g&&(f=f.filter((function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable}))),d.push.apply(d,f)}return d}function _objectSpread$1(h){for(var g=1;g<arguments.length;g++){var d=null!=arguments[g]?arguments[g]:{};g%2?ownKeys$1(Object(d),!0).forEach((function(g){(0,x.Z)(h,g,d[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(d)):ownKeys$1(Object(d)).forEach((function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(d,g))}))}return h}function _createImage(){return _createImage=(0,f.Z)((function*(h){var g=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=document.createElement("img");return g&&(d.crossOrigin="Anonymous"),new Promise(((g,f)=>{d.onload=()=>{g(d)},d.onerror=(h,g,d,x,b)=>{f(b)},d.src=h}))})),_createImage.apply(this,arguments)}class ue{constructor(h){var{rootEmSize:g=12,emSize:d=12,createCanvas:f=ue.createCanvas,createImage:x=ue.createImage,anonymousCrossOrigin:b}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=h,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=h.screen,this.rootEmSize=g,this.emSize=d,this.createCanvas=f,this.createImage=this.bindCreateImage(x,b),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(h,g){return"boolean"==typeof g?(d,f)=>h(d,"boolean"==typeof f?f:g):h}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:h}=this;return h[h.length-1]}set emSize(h){var{emSizeStack:g}=this;g.push(h)}popEmSize(){var{emSizeStack:h}=this;h.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every((h=>h.loaded))}isFontsLoaded(){return this.fonts.every((h=>h.loaded))}createDocumentElement(h){var g=this.createElement(h.documentElement);return g.root=!0,g.addStylesFromStyleDefinition(),this.documentElement=g,g}createElement(h){var g=h.nodeName.replace(/^[^:]+:/,""),d=ue.elementTypes[g];return void 0!==d?new d(this,h):new dt(this,h)}createTextNode(h){return new wt(this,h)}setViewBox(h){this.screen.setViewBox(_objectSpread$1({document:this},h))}}function ownKeys(h,g){var d=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);g&&(f=f.filter((function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable}))),d.push.apply(d,f)}return d}function _objectSpread(h){for(var g=1;g<arguments.length;g++){var d=null!=arguments[g]?arguments[g]:{};g%2?ownKeys(Object(d),!0).forEach((function(g){(0,x.Z)(h,g,d[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(d)):ownKeys(Object(d)).forEach((function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(d,g))}))}return h}ue.createCanvas=function createCanvas(h,g){var d=document.createElement("canvas");return d.width=h,d.height=g,d},ue.createImage=function createImage(h){return _createImage.apply(this,arguments)},ue.elementTypes=le;class ce{constructor(h,g){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new it(d),this.screen=new tt(h,d),this.options=d;var f=new ue(this,d),x=f.createDocumentElement(g);this.document=f,this.documentElement=x}static from(h,g){var d=arguments;return(0,f.Z)((function*(){var f=d.length>2&&void 0!==d[2]?d[2]:{},x=new it(f),b=yield x.parse(g);return new ce(h,b,f)}))()}static fromString(h,g){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=new it(d).parseFromString(g);return new ce(h,f,d)}fork(h,g){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ce.from(h,g,_objectSpread(_objectSpread({},this.options),d))}forkString(h,g){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ce.fromString(h,g,_objectSpread(_objectSpread({},this.options),d))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var h=arguments,g=this;return(0,f.Z)((function*(){var d=h.length>0&&void 0!==h[0]?h[0]:{};g.start(_objectSpread({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},d)),yield g.ready(),g.stop()}))()}start(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:g,screen:d,options:f}=this;d.start(g,_objectSpread(_objectSpread({enableRedraw:!0},f),h))}stop(){this.screen.stop()}resize(h){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(h,g,d)}}}}]);